<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring Boot ë²¤ì¹˜ë§ˆí¬ ë¦¬í¬íŠ¸</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --graviton: #10b981;
            --intel: #3b82f6;
            --amd: #ef4444;
            --bg: #f8fafc;
            --card: #ffffff;
            --text: #1e293b;
            --muted: #64748b;
            --border: #e2e8f0;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
        .container { max-width: 1600px; margin: 0 auto; padding: 2rem; }

        .header { background: linear-gradient(135deg, #059669 0%, #10b981 50%, #3b82f6 100%); color: white; padding: 3rem 2rem; border-radius: 1rem; margin-bottom: 2rem; text-align: center; }
        .header h1 { font-size: 2.5rem; margin-bottom: 0.5rem; }
        .header p { opacity: 0.9; }

        .summary-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 1.5rem; margin-bottom: 2rem; }
        .summary-card { background: var(--card); border-radius: 1rem; padding: 1.5rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); border-left: 4px solid var(--graviton); }
        .summary-card.intel { border-left-color: var(--intel); }
        .summary-card.warning { border-left-color: #f59e0b; }
        .summary-card h3 { color: var(--muted); font-size: 0.875rem; text-transform: uppercase; margin-bottom: 0.5rem; }
        .summary-card .value { font-size: 1.75rem; font-weight: 700; color: var(--text); }
        .summary-card .detail { color: var(--muted); font-size: 0.875rem; margin-top: 0.25rem; }

        .section { background: var(--card); border-radius: 1rem; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .section h2 { font-size: 1.5rem; margin-bottom: 1rem; padding-bottom: 0.5rem; border-bottom: 2px solid var(--border); }

        .chart-container { height: 450px; margin: 1rem 0; }
        .chart-container.tall { height: 550px; }
        .chart-container.extra-tall { height: 700px; }
        .chart-title { text-align: center; font-weight: 600; margin-bottom: 0.5rem; color: var(--text); }

        .grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 2rem; }
        .grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5rem; }
        @media (max-width: 1024px) { .grid-2, .grid-3 { grid-template-columns: 1fr; } }

        .insights { background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border-left: 4px solid #f59e0b; border-radius: 0.5rem; padding: 1.5rem; margin: 1.5rem 0; }
        .insights h4 { color: #92400e; margin-bottom: 0.75rem; }
        .insights ul { margin-left: 1.5rem; color: #78350f; }
        .insights li { margin-bottom: 0.5rem; }

        .warning-box { background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%); border-left: 4px solid #ef4444; border-radius: 0.5rem; padding: 1.5rem; margin: 1.5rem 0; }
        .warning-box h4 { color: #991b1b; margin-bottom: 0.75rem; }
        .warning-box ul { margin-left: 1.5rem; color: #7f1d1d; }

        .success-box { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); border-left: 4px solid #10b981; border-radius: 0.5rem; padding: 1.5rem; margin: 1.5rem 0; }
        .success-box h4 { color: #065f46; margin-bottom: 0.75rem; }
        .success-box ul { margin-left: 1.5rem; color: #064e3b; }

        table { width: 100%; border-collapse: collapse; margin: 1rem 0; font-size: 0.9rem; }
        th, td { padding: 0.75rem; text-align: left; border-bottom: 1px solid var(--border); }
        th { background: var(--bg); font-weight: 600; position: sticky; top: 0; cursor: pointer; }
        tr:hover { background: var(--bg); }

        .badge { display: inline-block; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 600; }
        .badge-graviton { background: #d1fae5; color: #065f46; }
        .badge-intel { background: #dbeafe; color: #1e40af; }
        .badge-amd { background: #fee2e2; color: #991b1b; }

        .comparison-table { margin: 1rem 0; }
        .comparison-table th { background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%); }
        .comparison-table .highlight { background: #d1fae5; font-weight: 600; }
        .comparison-table .warning { background: #fee2e2; }

        .nav { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 2rem; }
        .nav a { padding: 0.5rem 1rem; background: var(--card); border-radius: 0.5rem; text-decoration: none; color: var(--text); font-size: 0.875rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .nav a:hover { background: var(--border); }

        .footer { text-align: center; padding: 2rem; color: var(--muted); font-size: 0.875rem; }

        .filter-row { display: flex; gap: 0.5rem; margin-bottom: 1rem; flex-wrap: wrap; }
        .filter-row input, .filter-row select { padding: 0.5rem 1rem; border: 1px solid var(--border); border-radius: 0.5rem; }

        .tab-buttons { display: flex; gap: 0.5rem; margin-bottom: 1rem; }
        .tab-btn { padding: 0.5rem 1rem; border: 1px solid var(--border); background: var(--card); border-radius: 0.5rem; cursor: pointer; }
        .tab-btn.active { background: var(--intel); color: white; border-color: var(--intel); }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Spring Boot ë²¤ì¹˜ë§ˆí¬ ë¦¬í¬íŠ¸</h1>
            <p>HTTP Throughput (wrk) & Cold Start ì„±ëŠ¥ ë¹„êµ + Flex Time-Series ë¶„ì„</p>
            <p style="opacity: 0.7; margin-top: 0.5rem;">2026ë…„ 1ì›” | ì„œìš¸ ë¦¬ì „ (ap-northeast-2) | 51ê°œ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì…</p>
            <p style="opacity: 0.8; margin-top: 0.5rem; background: rgba(255,255,255,0.2); display: inline-block; padding: 0.25rem 0.75rem; border-radius: 4px;">
                ë°ì´í„° ì†ŒìŠ¤: results/springboot + results/springboot-flex
            </p>
        </div>

        <div class="summary-grid">
            <div class="summary-card">
                <h3>ğŸ† ìµœê³  Throughput</h3>
                <div class="value">c7i-flex.xlarge</div>
                <div class="detail">101,658 req/sec (200 conn)</div>
            </div>
            <div class="summary-card">
                <h3>âš¡ ìµœê³  Cold Start</h3>
                <div class="value">c8g.xlarge</div>
                <div class="detail">4.29ì´ˆ (Graviton4)</div>
            </div>
            <div class="summary-card intel">
                <h3>ğŸ“ˆ 8ì„¸ëŒ€ vs 7ì„¸ëŒ€ (Standard)</h3>
                <div class="value">+27% ë¹ ë¦„</div>
                <div class="detail">wrk 200 conn: 71k â†’ 93k req/sec</div>
            </div>
            <div class="summary-card warning">
                <h3>ğŸ“Š Time-Series í•µì‹¬ ë°œê²¬</h3>
                <div class="value">7ì„¸ëŒ€ Flex &gt; 8ì„¸ëŒ€ (+10%)</div>
                <div class="detail">c7i-flex: 92.5K &gt; c8i-flex: 84.4K &gt; c8i: 80.5K (same-AZ)</div>
            </div>
            <div class="summary-card" style="border-left-color: #8b5cf6;">
                <h3>ğŸ” Flex ë¹„êµ ê²°ë¡ </h3>
                <div class="value">ì›Œí¬ë¡œë“œë³„ ì„ íƒ</div>
                <div class="detail">í”¼í¬ ì„±ëŠ¥: 7ì„¸ëŒ€ | ì•ˆì •ì„±: 8ì„¸ëŒ€</div>
            </div>
        </div>

        <nav class="nav">
            <a href="#methodology">í…ŒìŠ¤íŠ¸ ë°©ë²•ë¡ </a>
            <a href="#wrk-scenarios">wrk ì‹œë‚˜ë¦¬ì˜¤ë³„ ê²°ê³¼</a>
            <a href="#generation">ì„¸ëŒ€ë³„ ì•„í‚¤í…ì²˜ ë¹„êµ</a>
            <a href="#latency">Latency ë¶„ì„</a>
            <a href="#flex-analysis">Flex ì„±ëŠ¥ ë¶„ì„</a>
            <a href="#flex-timeseries" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); font-weight: 600;">Flex Time-Series (NEW)</a>
            <a href="#coldstart">Cold Start ë¶„ì„</a>
            <a href="#full-results">ì „ì²´ ê²°ê³¼</a>
        </nav>

        <!-- í…ŒìŠ¤íŠ¸ ë°©ë²•ë¡  -->
        <div class="section" id="methodology">
            <h2>1. í…ŒìŠ¤íŠ¸ ë°©ë²•ë¡ </h2>

            <div class="grid-2">
                <div>
                    <h4 style="margin-bottom: 0.75rem;">í…ŒìŠ¤íŠ¸ í™˜ê²½</h4>
                    <table>
                        <tr><td style="width: 150px;"><strong>ì• í”Œë¦¬ì¼€ì´ì…˜</strong></td><td>Spring PetClinic 4.0.0</td></tr>
                        <tr><td><strong>Spring Boot</strong></td><td>4.0.1</td></tr>
                        <tr><td><strong>Java</strong></td><td>OpenJDK 21.0.9</td></tr>
                        <tr><td><strong>JVM ì˜µì…˜</strong></td><td>-XX:MaxRAMPercentage=60.0 -XX:+UseG1GC</td></tr>
                        <tr><td><strong>í”Œë«í¼</strong></td><td>Amazon EKS 1.34</td></tr>
                        <tr><td><strong>ë…¸ë“œ í”„ë¡œë¹„ì €ë‹</strong></td><td>Karpenter 1.5.0</td></tr>
                        <tr><td><strong>ë…¸ë“œ ê²©ë¦¬</strong></td><td>podAntiAffinity (ë‹¨ì¼ ë…¸ë“œ ë³´ì¥)</td></tr>
                    </table>
                </div>
                <div>
                    <h4 style="margin-bottom: 0.75rem;">wrk ë²¤ì¹˜ë§ˆí¬ ì„¤ì •</h4>
                    <table>
                        <tr><td style="width: 150px;"><strong>wrk ë²„ì „</strong></td><td>4.2.0 (epoll)</td></tr>
                        <tr><td><strong>í…ŒìŠ¤íŠ¸ 1</strong></td><td>50 conn, 60ì´ˆ (Light Load)</td></tr>
                        <tr><td><strong>í…ŒìŠ¤íŠ¸ 2</strong></td><td>100 conn, 60ì´ˆ (Normal Load)</td></tr>
                        <tr><td><strong>í…ŒìŠ¤íŠ¸ 3</strong></td><td>200 conn, 30ì´ˆ (High Load)</td></tr>
                        <tr><td><strong>ë°˜ë³µ íšŸìˆ˜</strong></td><td>5íšŒ</td></tr>
                        <tr><td><strong>ì¸ìŠ¤í„´ìŠ¤</strong></td><td>51ì¢… (xlarge, 4 vCPU)</td></tr>
                    </table>
                </div>
            </div>

            <div class="success-box" style="margin-top: 1.5rem;">
                <h4>ğŸŒ ë„¤íŠ¸ì›Œí¬ êµ¬ì„± - Same Zone ë°°ì¹˜</h4>
                <ul>
                    <li><strong>wrk í´ë¼ì´ì–¸íŠ¸ì™€ Spring Boot ì„œë²„ëŠ” ê°™ì€ Availability Zoneì— ë°°ì¹˜</strong></li>
                    <li><code>podAffinity</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ wrk í´ë¼ì´ì–¸íŠ¸ê°€ ì„œë²„ì™€ ë™ì¼í•œ Zoneì— ìŠ¤ì¼€ì¤„ë§</li>
                    <li>ë„¤íŠ¸ì›Œí¬ ì§€ì—° ìµœì†Œí™”ë¡œ ìˆœìˆ˜ ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ ì¸¡ì •</li>
                </ul>
            </div>

            <div class="insights">
                <h4>ì¸¡ì • ë©”íŠ¸ë¦­</h4>
                <ul>
                    <li><strong>Requests/sec</strong>: ì´ˆë‹¹ ì²˜ë¦¬ HTTP ìš”ì²­ ìˆ˜ - ë†’ì„ìˆ˜ë¡ ì¢‹ìŒ</li>
                    <li><strong>Latency P50</strong>: 50% ìš”ì²­ ì‘ë‹µ ì‹œê°„ - ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ</li>
                    <li><strong>Latency P99</strong>: 99% ìš”ì²­ ì‘ë‹µ ì‹œê°„ - ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ</li>
                    <li><strong>Cold Start</strong>: JVM + Spring Boot + PetClinic ì´ˆê¸°í™” ì‹œê°„ - ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ</li>
                </ul>
            </div>
        </div>

        <!-- wrk ì‹œë‚˜ë¦¬ì˜¤ë³„ ê²°ê³¼ -->
        <div class="section" id="wrk-scenarios">
            <h2>2. wrk í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ë³„ ê²°ê³¼</h2>

            <div class="tab-buttons">
                <button class="tab-btn active" onclick="showScenario('200')">High Load (200 conn)</button>
                <button class="tab-btn" onclick="showScenario('100')">Normal Load (100 conn)</button>
                <button class="tab-btn" onclick="showScenario('50')">Light Load (50 conn)</button>
            </div>

            <div id="scenario-200" class="scenario-content">
                <div class="chart-container tall">
                    <div class="chart-title">Top 20 ì¸ìŠ¤í„´ìŠ¤ - High Load (200 conn, 30s)</div>
                    <canvas id="wrkTop20Chart200"></canvas>
                </div>
            </div>

            <div id="scenario-100" class="scenario-content" style="display: none;">
                <div class="chart-container tall">
                    <div class="chart-title">Top 20 ì¸ìŠ¤í„´ìŠ¤ - Normal Load (100 conn, 60s)</div>
                    <canvas id="wrkTop20Chart100"></canvas>
                </div>
            </div>

            <div id="scenario-50" class="scenario-content" style="display: none;">
                <div class="chart-container tall">
                    <div class="chart-title">Top 20 ì¸ìŠ¤í„´ìŠ¤ - Light Load (50 conn, 60s)</div>
                    <canvas id="wrkTop20Chart50"></canvas>
                </div>
            </div>

            <h3 style="margin: 2rem 0 1rem;">ì‹œë‚˜ë¦¬ì˜¤ë³„ ì„±ëŠ¥ ë¹„êµ</h3>
            <div class="chart-container tall" id="scenario-compare-section">
                <div class="chart-title">ì¸ìŠ¤í„´ìŠ¤ë³„ 3ê°€ì§€ ë¶€í•˜ ì‹œë‚˜ë¦¬ì˜¤ ë¹„êµ</div>
                <div class="tab-buttons" style="margin-bottom: 1rem;">
                    <button class="tab-btn active" onclick="switchScenarioFamily('all', this)">All (Top 10)</button>
                    <button class="tab-btn" onclick="switchScenarioFamily('c', this)">C-Series (Compute)</button>
                    <button class="tab-btn" onclick="switchScenarioFamily('m', this)">M-Series (General)</button>
                    <button class="tab-btn" onclick="switchScenarioFamily('r', this)">R-Series (Memory)</button>
                </div>
                <canvas id="scenarioCompareChart"></canvas>
            </div>

            <div class="insights">
                <h4>í•µì‹¬ ì¸ì‚¬ì´íŠ¸</h4>
                <ul>
                    <li><strong>c7i-flexê°€ ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ 1ìœ„</strong> - 50 conn: 87.5k, 100 conn: 94.6k, 200 conn: 101.7k req/sec</li>
                    <li><strong>ë¶€í•˜ ì¦ê°€ì— ë”°ë¥¸ ì„±ëŠ¥ ë³€í™”</strong>: 7ì„¸ëŒ€ FlexëŠ” ë¶€í•˜ ì¦ê°€ ì‹œ ì„±ëŠ¥ì´ ë” í–¥ìƒë˜ëŠ” íŒ¨í„´</li>
                    <li><strong>8ì„¸ëŒ€ Standard</strong>: ì•ˆì •ì ì¸ ì„±ëŠ¥, ë¶€í•˜ ì¦ê°€ì— ë”°ë¥¸ ì„±ëŠ¥ í–¥ìƒ í­ì´ í¼</li>
                    <li><strong>c5dì˜ ì—­ì„¤ì  íŒ¨í„´</strong>: 5ì„¸ëŒ€ C-series ì¤‘ ê°€ì¥ ë‚®ì€ latency(3.2ms)ë¥¼ ë³´ì´ì§€ë§Œ throughputì€ ì¤‘í•˜ìœ„ê¶Œ.
                        50â†’100 connì—ì„œ ì„±ëŠ¥ ìƒìŠ¹ í›„ 200 connì—ì„œ ê¸‰ë½(38kâ†’27k). NVMe ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì˜ I/O ì¸í„°ëŸ½íŠ¸ê°€ CPUì™€ ê²½ìŸí•˜ì—¬
                        ê³ ë¶€í•˜ ì‹œ ìŠ¤ì¼€ì¼ë§ í•œê³„ ë°œìƒ</li>
                </ul>
            </div>
        </div>

        <!-- ì„¸ëŒ€ë³„ ì•„í‚¤í…ì²˜ ë¹„êµ -->
        <div class="section" id="generation">
            <h2>3. ì„¸ëŒ€ë³„ ì•„í‚¤í…ì²˜ ì„±ëŠ¥ ë¹„êµ</h2>
            <p style="color: var(--muted); margin-bottom: 1rem;">5ì„¸ëŒ€: Intel + AMD | 6~8ì„¸ëŒ€: Intel + Graviton</p>

            <div class="chart-container extra-tall">
                <div class="chart-title">ì„¸ëŒ€ë³„ wrk Throughput í‰ê·  (200 conn, ì•„í‚¤í…ì²˜ êµ¬ë¶„)</div>
                <canvas id="genArchWrkChart"></canvas>
            </div>

            <div class="grid-2" style="margin-top: 2rem;">
                <div class="chart-container">
                    <div class="chart-title">ì„¸ëŒ€ë³„ 100 conn ì„±ëŠ¥</div>
                    <canvas id="genArch100Chart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">ì„¸ëŒ€ë³„ 50 conn ì„±ëŠ¥</div>
                    <canvas id="genArch50Chart"></canvas>
                </div>
            </div>

            <div class="insights">
                <h4>ì„¸ëŒ€ë³„ ì„±ëŠ¥ í–¥ìƒ</h4>
                <ul>
                    <li><strong>Intel 5ì„¸ëŒ€ â†’ 8ì„¸ëŒ€</strong>: +171% í–¥ìƒ (34k â†’ 93k req/sec)</li>
                    <li><strong>Graviton 6ì„¸ëŒ€ â†’ 8ì„¸ëŒ€</strong>: +137% í–¥ìƒ (31k â†’ 74k req/sec)</li>
                    <li><strong>Intel 7ì„¸ëŒ€ Flex</strong>: íŠ¹ì´ ì¼€ì´ìŠ¤ - Standardë³´ë‹¤ ë†’ì€ ì„±ëŠ¥ (ì¬í…ŒìŠ¤íŠ¸ í™•ì¸ë¨)</li>
                </ul>
            </div>
        </div>

        <!-- Latency ë¶„ì„ -->
        <div class="section" id="latency">
            <h2>4. Latency ë¶„ì„ (200 conn)</h2>

            <div class="grid-2">
                <div class="chart-container">
                    <div class="chart-title">Latency P50 (ì¤‘ì•™ê°’) - ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ</div>
                    <canvas id="latencyP50Chart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Latency P99 (99í¼ì„¼íƒ€ì¼) - ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ</div>
                    <canvas id="latencyP99Chart"></canvas>
                </div>
            </div>

            <h3 style="margin: 2rem 0 1rem;">Throughput vs Latency</h3>
            <div class="chart-container tall">
                <div class="chart-title">ì²˜ë¦¬ëŸ‰ ëŒ€ë¹„ Latency (ë²„ë¸” í¬ê¸° = P99 Latency)</div>
                <canvas id="throughputLatencyChart"></canvas>
            </div>

            <div class="insights">
                <h4>Latency ì¸ì‚¬ì´íŠ¸</h4>
                <ul>
                    <li><strong>c7i-flex</strong>: ìµœê³  ì²˜ë¦¬ëŸ‰ + ë‚®ì€ latency (P50: 1.7ms, P99: 4.6ms)</li>
                    <li><strong>8ì„¸ëŒ€ Intel</strong>: P50 1.9-2.0msë¡œ ì•ˆì •ì ì¸ ì‘ë‹µ ì‹œê°„</li>
                    <li><strong>c6in ì£¼ì˜</strong>: P99 latencyê°€ 184msë¡œ ë§¤ìš° ë†’ìŒ (tail latency ë¬¸ì œ)</li>
                </ul>
            </div>
        </div>

        <!-- Flex ì„±ëŠ¥ ë¶„ì„ -->
        <div class="section" id="flex-analysis">
            <h2>5. Flex ì¸ìŠ¤í„´ìŠ¤ ì„±ëŠ¥ ë¶„ì„</h2>

            <div class="success-box">
                <h4>âœ… ì¬í…ŒìŠ¤íŠ¸ ê²°ê³¼: 7ì„¸ëŒ€ Flex ê³ ì„±ëŠ¥ í™•ì¸</h4>
                <ul>
                    <li><strong>c7i-flex ì¬í…ŒìŠ¤íŠ¸</strong>: 104,649 req/sec (ê¸°ì¡´ 101,657) â†’ ê³ ì„±ëŠ¥ ì¬í˜„ í™•ì¸</li>
                    <li><strong>m7i-flex ì¬í…ŒìŠ¤íŠ¸</strong>: 105,512 req/sec (ê¸°ì¡´ 97,607) â†’ ê³ ì„±ëŠ¥ ì¬í˜„ í™•ì¸</li>
                    <li>7ì„¸ëŒ€ Flexê°€ 8ì„¸ëŒ€ Flexë³´ë‹¤ wrk ì²˜ë¦¬ëŸ‰ì—ì„œ ë” ë†’ì€ ì„±ëŠ¥ì€ <strong>ì‹¤ì œ í˜„ìƒ</strong></li>
                </ul>
            </div>

            <h3 style="margin: 1.5rem 0 1rem;">Flex ì¸ìŠ¤í„´ìŠ¤ ìƒì„¸ ë¹„êµ</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ì¸ìŠ¤í„´ìŠ¤</th>
                        <th>50 conn</th>
                        <th>100 conn</th>
                        <th>200 conn</th>
                        <th>P99 Latency</th>
                        <th>Cold Start</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span class="badge badge-intel">c7i-flex.xlarge</span></td>
                        <td>87,512</td>
                        <td>94,639</td>
                        <td class="highlight"><strong>101,658</strong></td>
                        <td>4.59ms</td>
                        <td>5.08ì´ˆ</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-intel">m7i-flex.xlarge</span></td>
                        <td>79,660</td>
                        <td>88,417</td>
                        <td class="highlight"><strong>97,607</strong></td>
                        <td>5.02ms</td>
                        <td>5.35ì´ˆ</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-intel">c8i-flex.xlarge</span></td>
                        <td>61,541</td>
                        <td>80,121</td>
                        <td>91,741</td>
                        <td>4.76ms</td>
                        <td class="highlight">4.51ì´ˆ</td>
                    </tr>
                    <tr>
                        <td><span class="badge badge-intel">r8i-flex.xlarge</span></td>
                        <td>62,212</td>
                        <td>80,328</td>
                        <td>91,191</td>
                        <td>4.72ms</td>
                        <td class="highlight">4.69ì´ˆ</td>
                    </tr>
                </tbody>
            </table>

            <div class="grid-2" style="margin-top: 2rem;">
                <div class="chart-container">
                    <div class="chart-title">Flex vs Standard wrk ë¹„êµ (200 conn)</div>
                    <canvas id="flexWrkChart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Flex Cold Start ë¹„êµ</div>
                    <canvas id="flexColdChart"></canvas>
                </div>
            </div>

            <div class="insights" style="margin-top: 1.5rem;">
                <h4>ë¶„ì„ ë° ê²°ë¡ </h4>
                <ul>
                    <li><strong>7ì„¸ëŒ€ Flex ê³ ì„±ëŠ¥ ì›ì¸ ì¶”ì •</strong>: AWSì˜ ë¬¼ë¦¬ í˜¸ìŠ¤íŠ¸ í• ë‹¹ ì •ì±…, íŠ¹ì • CPU bin ì„ íƒ ë“±</li>
                    <li><strong>8ì„¸ëŒ€ Flex Cold Start ìš°ìˆ˜</strong>: JVM ì´ˆê¸°í™”ì—ì„œëŠ” 8ì„¸ëŒ€ê°€ í™•ì‹¤íˆ ë¹ ë¦„</li>
                    <li><strong>ì›Œí¬ë¡œë“œë³„ ì„ íƒ</strong>: ì§€ì†ì  ê³ ë¶€í•˜ëŠ” 7ì„¸ëŒ€ Flex, Cold Start ì¤‘ìš”í•˜ë©´ 8ì„¸ëŒ€</li>
                </ul>
            </div>
        </div>

        <!-- Flex ì§€ì† ë¶€í•˜ Time-Series ë¶„ì„ (í•µì‹¬ ì„¹ì…˜) -->
        <div class="section" id="flex-timeseries" style="border: 3px solid #f59e0b; background: linear-gradient(to bottom, #fffbeb 0%, #ffffff 100px);">
            <h2 style="color: #92400e;">5.1 ì§€ì† ë¶€í•˜ í…ŒìŠ¤íŠ¸ (Time-Series) - í•µì‹¬ ë¶„ì„</h2>

            <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1.5rem; border-left: 4px solid #f59e0b;">
                <strong style="font-size: 1.1rem; color: #92400e;">ì™œ ì´ í…ŒìŠ¤íŠ¸ê°€ ì¤‘ìš”í•œê°€?</strong>
                <p style="color: #78350f; margin-top: 0.5rem;">ë‹¨ë°œì„± ë²¤ì¹˜ë§ˆí¬(wrk 30-60ì´ˆ)ëŠ” burst ì„±ëŠ¥ì„ ì¸¡ì •í•©ë‹ˆë‹¤. ì‹¤ì œ í”„ë¡œë•ì…˜ ì›Œí¬ë¡œë“œëŠ” 12ë¶„, 1ì‹œê°„, 24ì‹œê°„ ì´ìƒ ì§€ì†ë©ë‹ˆë‹¤. ì´ í…ŒìŠ¤íŠ¸ëŠ” <strong>ì§€ì†ì ì¸ ë¶€í•˜ ìƒí™©ì—ì„œì˜ ì‹¤ì œ ì„±ëŠ¥</strong>ì„ ì¸¡ì •í•©ë‹ˆë‹¤.</p>
            </div>

            <div style="background: var(--bg); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                <strong>í…ŒìŠ¤íŠ¸ ì¡°ê±´:</strong> 600ì´ˆ(10ë¶„) ì§€ì† ë¶€í•˜ Ã— 5íšŒ ë°˜ë³µ, 30ì´ˆ warmup (JIT ì»´íŒŒì¼), 2 threads, 100 connections, 10ì´ˆ ê°„ê²© ìƒ˜í”Œë§<br>
                <span style="color: var(--muted); font-size: 0.9rem;">ë°ì´í„° ì†ŒìŠ¤: <code>results/springboot-flex/timeseries-all.csv</code> (5 runs Ã— 60 points per run)</span>
            </div>

            <!-- Metric Selector Tabs -->
            <div class="tab-buttons" style="margin-bottom: 1rem;">
                <button class="tab-btn active" onclick="switchTimeseriesMetric('throughput', this)">Throughput (req/sec)</button>
                <button class="tab-btn" onclick="switchTimeseriesMetric('latency', this)">Latency Avg (ms)</button>
                <button class="tab-btn" onclick="switchTimeseriesMetric('p99', this)">Latency P99 (ms)</button>
            </div>

            <div class="chart-container extra-tall">
                <div class="chart-title" id="timeseriesChartTitle" style="font-size: 1.2rem; font-weight: 700;">Flex vs Standard vs Graviton4 ì‹œê°„ë³„ Throughput (600ì´ˆ ì§€ì† ë¶€í•˜, Run 2)</div>
                <canvas id="flexTimeseriesChart"></canvas>
            </div>

            <!-- í•µì‹¬ ë°œê²¬ ìš”ì•½ -->
            <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin: 2rem 0;">
                <div style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                    <div style="font-size: 0.8rem; color: #065f46; text-transform: uppercase;">c7i-flex í‰ê· </div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #047857;">92,551</div>
                    <div style="font-size: 0.75rem; color: #065f46;">req/sec | CV 8.9%</div>
                </div>
                <div style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                    <div style="font-size: 0.8rem; color: #1e40af; text-transform: uppercase;">c8i-flex í‰ê· </div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #1d4ed8;">84,409</div>
                    <div style="font-size: 0.75rem; color: #1e40af;">req/sec | CV 8.2%</div>
                </div>
                <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                    <div style="font-size: 0.8rem; color: #92400e; text-transform: uppercase;">c7iê°€ ë” ë¹ ë¦„</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #b45309;">+8.9%</div>
                    <div style="font-size: 0.75rem; color: #92400e;">burst ì„±ëŠ¥ ìš°ìˆ˜</div>
                </div>
                <div style="background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                    <div style="font-size: 0.8rem; color: #3730a3; text-transform: uppercase;">r8i-flex í‰ê· </div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #4338ca;">84,270</div>
                    <div style="font-size: 0.75rem; color: #3730a3;">req/sec | CV 8.1%</div>
                </div>
            </div>

            <div class="grid-2" style="margin-top: 2rem;">
                <div class="chart-container">
                    <div class="chart-title">í‰ê·  Throughput ë¹„êµ</div>
                    <canvas id="flexAvgChart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">ë³€ë™ê³„ìˆ˜(CV%) - ë‚®ì„ìˆ˜ë¡ ì•ˆì •ì </div>
                    <canvas id="flexStddevChart"></canvas>
                </div>
            </div>

            <h3 style="margin: 2rem 0 1rem;">Flex vs Standard ì¸ìŠ¤í„´ìŠ¤ ìƒì„¸ ë¹„êµ (5íšŒ ì¸¡ì • í†µê³„)</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ì¸ìŠ¤í„´ìŠ¤</th>
                        <th>í‰ê·  Throughput</th>
                        <th>ìµœì†Œê°’</th>
                        <th>ìµœëŒ€ê°’</th>
                        <th>í‘œì¤€í¸ì°¨</th>
                        <th>ë³€ë™ê³„ìˆ˜(CV)</th>
                        <th>íŒ¨í„´</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: rgba(16, 185, 129, 0.1);">
                        <td><span class="badge badge-intel">c7i-flex.xlarge</span> <span style="color: #10b981; font-weight: 600;">7ì„¸ëŒ€ Flex</span></td>
                        <td class="highlight"><strong>92,551</strong></td>
                        <td>53,507</td>
                        <td>107,657</td>
                        <td style="color: #dc2626;">8,198</td>
                        <td style="color: #dc2626;">8.9%</td>
                        <td><span style="background: #fef3c7; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem;">Burst</span></td>
                    </tr>
                    <tr style="background: rgba(59, 130, 246, 0.1);">
                        <td><span class="badge badge-intel">c8i-flex.xlarge</span> <span style="color: #3b82f6; font-weight: 600;">8ì„¸ëŒ€ Flex</span></td>
                        <td>84,409</td>
                        <td>70,069</td>
                        <td>93,348</td>
                        <td>6,911</td>
                        <td>8.2%</td>
                        <td><span style="background: #dbeafe; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem;">Moderate</span></td>
                    </tr>
                    <tr style="background: rgba(245, 158, 11, 0.1);">
                        <td><span class="badge badge-intel">m7i-flex.xlarge</span> <span style="color: #f59e0b; font-weight: 600;">7ì„¸ëŒ€ Flex</span></td>
                        <td>71,188</td>
                        <td>60,396</td>
                        <td>78,627</td>
                        <td class="highlight"><strong>3,303</strong></td>
                        <td class="highlight"><strong>4.6%</strong></td>
                        <td><span style="background: #d1fae5; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem;">Steady</span></td>
                    </tr>
                    <tr style="background: rgba(139, 92, 246, 0.1);">
                        <td><span class="badge badge-intel">r8i-flex.xlarge</span> <span style="color: #8b5cf6; font-weight: 600;">8ì„¸ëŒ€ Flex</span></td>
                        <td>84,270</td>
                        <td>66,486</td>
                        <td>92,189</td>
                        <td>6,811</td>
                        <td>8.1%</td>
                        <td><span style="background: #e0e7ff; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem;">Moderate</span></td>
                    </tr>
                    <tr style="background: rgba(59, 130, 246, 0.1); border-top: 2px solid #3b82f6;">
                        <td><span class="badge badge-intel">c8i.xlarge</span> <span style="color: #3b82f6; font-weight: 600;">8ì„¸ëŒ€ Standard</span></td>
                        <td><strong>80,526</strong></td>
                        <td>70,121</td>
                        <td>87,515</td>
                        <td class="highlight"><strong>5,098</strong></td>
                        <td class="highlight"><strong>6.3%</strong></td>
                        <td><span style="background: #d1fae5; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem;">Steady</span></td>
                    </tr>
                    <tr style="background: rgba(16, 185, 129, 0.1);">
                        <td><span class="badge badge-graviton">c8g.xlarge</span> <span style="color: #059669; font-weight: 600;">Graviton4</span></td>
                        <td><strong>64,393</strong></td>
                        <td>59,737</td>
                        <td>68,495</td>
                        <td class="highlight"><strong>2,432</strong></td>
                        <td class="highlight" style="color: #059669; font-weight: 600;">3.8%</td>
                        <td><span style="background: #d1fae5; padding: 2px 8px; border-radius: 4px; font-size: 0.8rem;">Most Stable</span></td>
                    </tr>
                </tbody>
            </table>

            <div class="insights" style="margin-top: 1rem;">
                <h4 style="color: #92400e; margin-bottom: 0.5rem;">CV% (ë³€ë™ê³„ìˆ˜) í•´ì„ - Same-AZ ì¸¡ì • (ìˆ˜ì •ë¨)</h4>
                <ul style="margin: 0; padding-left: 1.2rem;">
                    <li><strong style="color: #059669;">c8g Graviton4 (3.8%)</strong>: ê°€ì¥ ì•ˆì •ì  - ë‚®ì€ throughputì´ì§€ë§Œ ì¼ê´€ëœ ì„±ëŠ¥</li>
                    <li><strong>m7i-flex (4.6%)</strong>: ë§¤ìš° ì•ˆì •ì  - ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„±ëŠ¥</li>
                    <li><strong style="color: #3b82f6;">c8i Standard (6.3%)</strong>: ì•ˆì •ì  - Burst ì—†ì´ ê¾¸ì¤€í•œ 80K ìœ ì§€</li>
                    <li><strong>c8i-flex, r8i-flex (8%)</strong>: ë³´í†µ ìˆ˜ì¤€ - 10% ì´ë‚´ ë“±ë½</li>
                    <li><strong>c7i-flex (8.8%)</strong>: Burst íŒ¨í„´ - ë†’ì€ í”¼í¬(107K), ë„“ì€ ë³€ë™í­</li>
                </ul>
            </div>

            <!-- í•µì‹¬ ë¶„ì„: ë²¤ì¹˜ë§ˆí¬ì—ì„œ ê´€ì°°ëœ í˜„ìƒ -->
            <div style="background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%); border: 2px solid #ef4444; border-radius: 0.75rem; padding: 2rem; margin: 2rem 0;">
                <h3 style="color: #991b1b; margin-bottom: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                    <span style="font-size: 1.5rem;">&#9888;</span>
                    ê´€ì°° ê²°ê³¼: 7ì„¸ëŒ€ Flexê°€ 8ì„¸ëŒ€ë³´ë‹¤ ë” ë†’ì€ Throughput ê¸°ë¡
                </h3>

                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                    <div style="background: white; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #f59e0b;">
                        <h4 style="color: #92400e; margin-bottom: 0.5rem;">1. ì¸¡ì •ëœ Throughput ì°¨ì´</h4>
                        <p style="color: #78350f; font-size: 0.9rem; margin: 0;">
                            <strong>c7i-flex:</strong> í‰ê·  92,551 req/sec, í”¼í¬ 107K<br>
                            <strong>c8i-flex:</strong> í‰ê·  84,409 req/sec, í”¼í¬ 93K<br>
                            <strong>ì°¨ì´:</strong> 7ì„¸ëŒ€ê°€ ì•½ 9% ë” ë†’ì€ í‰ê·  Throughput
                        </p>
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #3b82f6;">
                        <h4 style="color: #1e40af; margin-bottom: 0.5rem;">2. ì„±ëŠ¥ ë³€ë™ íŒ¨í„´ ì°¨ì´</h4>
                        <p style="color: #1e3a5f; font-size: 0.9rem; margin: 0;">
                            <strong>c7i-flex:</strong> CV 8.9% - ë„“ì€ ë³€ë™í­ (Burst íŒ¨í„´)<br>
                            <strong>c8i-flex:</strong> CV 8.2% - ìƒëŒ€ì ìœ¼ë¡œ ì•ˆì •ì <br>
                            <strong>m7i-flex:</strong> CV 4.6% - ê°€ì¥ ì•ˆì •ì ì¸ ì„±ëŠ¥
                        </p>
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #3b82f6;">
                        <h4 style="color: #1e40af; margin-bottom: 0.5rem;">3. Standard vs Flex (Same-AZ ìˆ˜ì •)</h4>
                        <p style="color: #1e3a5f; font-size: 0.9rem; margin: 0;">
                            <strong>c8i.xlarge (Standard):</strong> 80,526 req/sec, CV 6.3%<br>
                            <strong>c8i-flex.xlarge:</strong> 84,409 req/sec, CV 8.2%<br>
                            <strong>ê²°ë¡ :</strong> Flexê°€ ~5% ë†’ì§€ë§Œ Standardê°€ ë” ì•ˆì •ì 
                        </p>
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 0.5rem; border-left: 4px solid #059669;">
                        <h4 style="color: #065f46; margin-bottom: 0.5rem;">4. c8g Graviton4 (Same-AZ ìˆ˜ì •)</h4>
                        <p style="color: #064e3b; font-size: 0.9rem; margin: 0;">
                            <strong>í‰ê·  Throughput:</strong> 64,393 req/sec<br>
                            <strong>CV%:</strong> 3.8% - ê°€ì¥ ì•ˆì •ì ì¸ ì„±ëŠ¥<br>
                            <strong>íŠ¹ì§•:</strong> ë‚®ì€ throughputì´ì§€ë§Œ ê°€ì¥ ì˜ˆì¸¡ ê°€ëŠ¥
                        </p>
                    </div>
                </div>

                <div style="background: #ecfdf5; border: 1px solid #10b981; border-radius: 0.5rem; padding: 1rem; margin-top: 1rem;">
                    <h4 style="color: #065f46; margin: 0 0 0.5rem 0;">CPU Burst Behavior ë¶„ì„ (Same-AZ ìˆ˜ì •)</h4>
                    <p style="color: #064e3b; font-size: 0.85rem; margin: 0;">
                        <strong>c7i-flex:</strong> Higher burst ceiling - í”¼í¬ 107K+ req/sec, ë” ë„“ì€ ë³€ë™í­ (CV 8.8%)<br>
                        <strong>c8i-flex:</strong> More conservative burst - í”¼í¬ 93K, steadier at 84K (CV 8.2%)<br>
                        <strong>c8i Standard:</strong> No burst - stable at 80K with lowest CV (6.3%)<br>
                        <strong>c8g Graviton4:</strong> Lowest throughput (64K) but most stable (CV 3.8%)<br><br>
                        <strong>ê¶Œì¥:</strong> Burst-tolerant workloadsëŠ” c7i-flex, ì•ˆì •ì„± ì¤‘ì‹œëŠ” c8i ë˜ëŠ” c8g ì„ íƒ
                    </p>
                </div>
            </div>

            <!-- ë°ì´í„° ê¸°ë°˜ ì¦ê±° -->
            <div style="background: var(--bg); padding: 1.5rem; border-radius: 0.5rem; margin: 1.5rem 0;">
                <h4 style="margin-bottom: 1rem;">ë°ì´í„° ê¸°ë°˜ ì¦ê±° (Same-AZ Time-Series 5íšŒ ì¸¡ì •, Run 2 ëŒ€í‘œê°’)</h4>
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                    <div>
                        <strong>c7i-flex íŒ¨í„´ (í‰ê·  92,551, CV 8.8%):</strong>
                        <ul style="margin: 0.5rem 0; font-size: 0.9rem;">
                            <li>10ì´ˆ: 79,393 (warmup ì§í›„)</li>
                            <li>50ì´ˆ: <strong>105,713 (í”¼í¬)</strong></li>
                            <li>150ì´ˆ: <span style="color: red;">78,571 (ê¸‰ë½ -26%)</span></li>
                            <li>360ì´ˆ: 107,350 (ìµœê³ ì )</li>
                            <li>íŒ¨í„´: 70K-107K ë„“ì€ ì§„í­ ë°˜ë³µ</li>
                        </ul>
                    </div>
                    <div>
                        <strong>c8i-flex íŒ¨í„´ (í‰ê·  84,409, CV 8.2%):</strong>
                        <ul style="margin: 0.5rem 0; font-size: 0.9rem;">
                            <li>10ì´ˆ: 92,240 (ë†’ì€ ì‹œì‘)</li>
                            <li>90ì´ˆ: <span style="color: orange;">72,840 (ìµœì €ì )</span></li>
                            <li>200ì´ˆ: <strong>93,347 (ìµœê³ ì )</strong></li>
                            <li>ë³€ë™í­: ~20,000 (CV 8.2%)</li>
                            <li>íŒ¨í„´: c7ië³´ë‹¤ ì•ˆì •, 73K-93K</li>
                        </ul>
                    </div>
                    <div style="background: #dbeafe; padding: 0.5rem; border-radius: 0.25rem;">
                        <strong style="color: #1d4ed8;">c8i Standard íŒ¨í„´ (í‰ê·  80,526, CV 6.3%):</strong>
                        <ul style="margin: 0.5rem 0; font-size: 0.9rem;">
                            <li>10ì´ˆ: 87,343 (ë†’ì€ ì‹œì‘)</li>
                            <li>90ì´ˆ: <span style="color: orange;">70,997 (ìµœì €ì )</span></li>
                            <li>390ì´ˆ: <strong>86,768 (ìµœê³ ì )</strong></li>
                            <li>ë³€ë™í­: ~16,000 (CV 6.3%)</li>
                            <li>íŒ¨í„´: Flexë³´ë‹¤ ì•ˆì •ì , 71K-87K</li>
                        </ul>
                    </div>
                    <div style="background: #d1fae5; padding: 0.5rem; border-radius: 0.25rem;">
                        <strong style="color: #059669;">c8g Graviton4 íŒ¨í„´ (í‰ê·  64,393, CV 3.8%):</strong>
                        <ul style="margin: 0.5rem 0; font-size: 0.9rem;">
                            <li>10ì´ˆ: 64,311 (ì•ˆì • ì‹œì‘)</li>
                            <li>280ì´ˆ: <span style="color: orange;">60,926 (ìµœì €ì )</span></li>
                            <li>330ì´ˆ: <strong>68,495 (ìµœê³ ì )</strong></li>
                            <li>ë³€ë™í­: ~8,000 (CV 3.8%)</li>
                            <li>íŒ¨í„´: ê°€ì¥ ì•ˆì •ì , 60K-68K</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="success-box">
                <h4>ìš©ë„ë³„ ê¶Œì¥ ì„ íƒ (Same-AZ ê¸°ì¤€)</h4>
                <table style="width: 100%; margin-top: 0.5rem;">
                    <tr>
                        <td style="padding: 0.5rem;"><strong>ìµœëŒ€ Throughput í•„ìš”</strong></td>
                        <td style="padding: 0.5rem;"><span class="badge badge-intel">c7i-flex.xlarge</span> - í‰ê·  92.5K req/sec, í”¼í¬ 107K</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;"><strong>ì¼ê´€ëœ ì„±ëŠ¥ (SLA)</strong></td>
                        <td style="padding: 0.5rem;"><span class="badge badge-graviton">c8g.xlarge</span> - CV 3.8% ê°€ì¥ ì•ˆì • ë˜ëŠ” <span class="badge badge-intel">m7i-flex</span> CV 4.6%</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;"><strong>ê· í˜• (Throughput + ì•ˆì •ì„±)</strong></td>
                        <td style="padding: 0.5rem;"><span class="badge badge-intel">c8i.xlarge</span> - 80.5K req/sec, CV 6.3%ë¡œ ì•ˆì •ì </td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;"><strong>Auto-scaling í™˜ê²½</strong></td>
                        <td style="padding: 0.5rem;"><span class="badge badge-intel">c8i-flex/r8i-flex</span> - CV 8%ëŒ€ë¡œ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„±ëŠ¥</td>
                    </tr>
                    <tr>
                        <td style="padding: 0.5rem;"><strong>ë¹„ìš© íš¨ìœ¨ (Graviton)</strong></td>
                        <td style="padding: 0.5rem;"><span class="badge badge-graviton">c8g.xlarge</span> - ë‚®ì€ throughputì´ì§€ë§Œ ìµœê³  ì•ˆì •ì„± + ì €ë ´í•œ ê°€ê²©</td>
                    </tr>
                </table>
            </div>
        </div>

        <!-- Standard vs Flex ë¹„êµ (ì‹ ê·œ) -->
        <div class="section" id="standard-comparison" style="border: 2px solid #6366f1; background: linear-gradient(to bottom, #eef2ff 0%, #ffffff 100px);">
            <h2 style="color: #4338ca;">5.2 Standard vs Flex ì¸ìŠ¤í„´ìŠ¤ ë¹„êµ (c8i, c8g)</h2>

            <div style="background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1.5rem; border-left: 4px solid #6366f1;">
                <strong style="font-size: 1.1rem; color: #3730a3;">Redis Time-Seriesì™€ ë¹„êµë¥¼ ìœ„í•œ ì¶”ê°€ í…ŒìŠ¤íŠ¸</strong>
                <p style="color: #4338ca; margin-top: 0.5rem;">c8i.xlarge(Intel 8ì„¸ëŒ€)ì™€ c8g.xlarge(Graviton4)ë¥¼ ë™ì¼ ì¡°ê±´(600ì´ˆ Ã— 5íšŒ)ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ì—¬ Flex ì¸ìŠ¤í„´ìŠ¤ì™€ ë¹„êµí•©ë‹ˆë‹¤.</p>
            </div>

            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin: 1.5rem 0;">
                <div style="background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                    <div style="font-size: 0.8rem; color: #1e40af; text-transform: uppercase;">c8i.xlarge (Standard)</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #1d4ed8;">80,526</div>
                    <div style="font-size: 0.75rem; color: #1e40af;">req/sec (CV 6.3%, ì•ˆì •ì )</div>
                </div>
                <div style="background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                    <div style="font-size: 0.8rem; color: #065f46; text-transform: uppercase;">c8g.xlarge (Graviton)</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #047857;">64,393</div>
                    <div style="font-size: 0.75rem; color: #065f46;">req/sec (CV 3.8%, ê°€ì¥ ì•ˆì •)</div>
                </div>
                <div style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); padding: 1rem; border-radius: 0.5rem; text-align: center;">
                    <div style="font-size: 0.8rem; color: #92400e; text-transform: uppercase;">Flex vs Standard</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: #b45309;">+5%</div>
                    <div style="font-size: 0.75rem; color: #92400e;">c8i-flex: 84K vs c8i: 80K</div>
                </div>
            </div>

            <h3 style="margin: 1.5rem 0 1rem;">Standard ì¸ìŠ¤í„´ìŠ¤ ìƒì„¸ í†µê³„ (Same-AZ 5íšŒ ì¸¡ì •)</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>ì¸ìŠ¤í„´ìŠ¤</th>
                        <th>í‰ê· </th>
                        <th>ìµœì†Œê°’</th>
                        <th>ìµœëŒ€ê°’</th>
                        <th>CV%</th>
                        <th>íŠ¹ì§•</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="background: rgba(59, 130, 246, 0.1);">
                        <td><span class="badge badge-intel">c8i.xlarge</span> Intel 8ì„¸ëŒ€</td>
                        <td><strong>80,526</strong></td>
                        <td>70,121</td>
                        <td>87,515</td>
                        <td style="color: #059669; font-weight: 600;">6.3%</td>
                        <td>Steady pattern, Burst ì—†ì´ ì•ˆì •ì </td>
                    </tr>
                    <tr style="background: rgba(16, 185, 129, 0.1);">
                        <td><span class="badge badge-graviton">c8g.xlarge</span> Graviton4</td>
                        <td><strong>64,393</strong></td>
                        <td>59,737</td>
                        <td>68,495</td>
                        <td style="color: #059669; font-weight: 700;">3.8%</td>
                        <td>ê°€ì¥ ì•ˆì •ì , ë‚®ì€ throughput</td>
                    </tr>
                </tbody>
            </table>

            <div class="insights" style="margin-top: 1.5rem;">
                <h4>í•µì‹¬ ì¸ì‚¬ì´íŠ¸ (Same-AZ ìˆ˜ì •)</h4>
                <ul>
                    <li><strong>Flex vs Standard ì°¨ì´ ì¶•ì†Œ:</strong> Same-AZì—ì„œ c8i-flex(84K) vs c8i(80K)ëŠ” ~5% ì°¨ì´ë¡œ ì¶•ì†Œë¨</li>
                    <li><strong>c8g Graviton4:</strong> CV 3.8%ë¡œ ê°€ì¥ ì•ˆì •ì  - ë‚®ì€ throughput(64K)ì´ì§€ë§Œ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì„±ëŠ¥</li>
                    <li><strong>c8i Standard:</strong> CV 6.3%ë¡œ Flex(8.2%)ë³´ë‹¤ ì•ˆì •ì  - Burst ì—†ì´ ê¾¸ì¤€í•œ 80K ìœ ì§€</li>
                    <li><strong>ê¶Œì¥:</strong> ìµœëŒ€ ì„±ëŠ¥ì€ Flex, ì•ˆì •ì„± ì¤‘ì‹œëŠ” Standard ë˜ëŠ” Graviton</li>
                </ul>
            </div>
        </div>

        <!-- Cold Start ë¶„ì„ -->
        <div class="section" id="coldstart">
            <h2>6. Cold Start ì„±ëŠ¥ ë¶„ì„</h2>

            <div style="background: var(--bg); padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
                <strong>ì¸¡ì • ëŒ€ìƒ:</strong> Spring PetClinic (ì‹¤ì œ í”„ë¡œë•ì…˜ê¸‰ ìƒ˜í”Œ ì•±) ì‹œì‘ ì‹œê°„<br>
                <span style="color: var(--muted); font-size: 0.9rem;">JVM ë¶€íŒ… â†’ Spring Context ì´ˆê¸°í™” â†’ JPA/Hibernate ì„¤ì • â†’ ì›¹ ì„œë²„ ì‹œì‘ê¹Œì§€ ì „ì²´ ì‹œê°„</span>
            </div>

            <div class="chart-container tall">
                <div class="chart-title">Cold Start Top 20 (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)</div>
                <canvas id="coldstartTop20Chart"></canvas>
            </div>

            <div class="grid-2" style="margin-top: 2rem;">
                <div class="chart-container">
                    <div class="chart-title">ì„¸ëŒ€ë³„ Cold Start í‰ê·  (ì•„í‚¤í…ì²˜ êµ¬ë¶„)</div>
                    <canvas id="genArchColdChart"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">ì•„í‚¤í…ì²˜ë³„ Cold Start í‰ê· </div>
                    <canvas id="archColdChart"></canvas>
                </div>
            </div>

            <div class="insights">
                <h4>Cold Start ì¸ì‚¬ì´íŠ¸</h4>
                <ul>
                    <li><strong>Graviton4ê°€ ìµœê³ </strong> - c8g 4.29ì´ˆë¡œ ê°€ì¥ ë¹ ë¥¸ ì‹œì‘</li>
                    <li><strong>8ì„¸ëŒ€ Intel</strong>: 4.3-4.8ì´ˆëŒ€ë¡œ 7ì„¸ëŒ€(5.0-5.8ì´ˆ) ëŒ€ë¹„ 15-20% ê°œì„ </li>
                    <li><strong>5ì„¸ëŒ€ AMD</strong>: 11ì´ˆëŒ€ë¡œ ê°€ì¥ ëŠë¦¼ - ì„œë²„ë¦¬ìŠ¤/ì˜¤í† ìŠ¤ì¼€ì¼ë§ì— ë¶€ì í•©</li>
                </ul>
            </div>
        </div>

        <!-- ì „ì²´ ê²°ê³¼ -->
        <div class="section" id="full-results">
            <h2>7. ì „ì²´ ê²°ê³¼</h2>

            <div class="filter-row">
                <input type="text" id="searchInput" placeholder="ì¸ìŠ¤í„´ìŠ¤ ê²€ìƒ‰...">
                <select id="archFilter">
                    <option value="">ì „ì²´ ì•„í‚¤í…ì²˜</option>
                    <option value="graviton">Graviton</option>
                    <option value="intel">Intel</option>
                    <option value="amd">AMD</option>
                </select>
                <select id="genFilter">
                    <option value="">ì „ì²´ ì„¸ëŒ€</option>
                    <option value="5">5ì„¸ëŒ€</option>
                    <option value="6">6ì„¸ëŒ€</option>
                    <option value="7">7ì„¸ëŒ€</option>
                    <option value="8">8ì„¸ëŒ€</option>
                </select>
                <select id="scenarioFilter">
                    <option value="rps200">200 conn (High Load)</option>
                    <option value="rps100">100 conn (Normal)</option>
                    <option value="rps50">50 conn (Light)</option>
                </select>
            </div>

            <div style="overflow-x: auto;">
                <table id="resultsTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0)">ì¸ìŠ¤í„´ìŠ¤ â†•</th>
                            <th>ì•„í‚¤í…ì²˜</th>
                            <th>ì„¸ëŒ€</th>
                            <th onclick="sortTable(3)">50 conn â†•</th>
                            <th onclick="sortTable(4)">100 conn â†•</th>
                            <th onclick="sortTable(5)">200 conn â†•</th>
                            <th onclick="sortTable(6)">P50 â†•</th>
                            <th onclick="sortTable(7)">P99 â†•</th>
                            <th onclick="sortTable(8)">Cold Start â†•</th>
                        </tr>
                    </thead>
                    <tbody id="resultsBody">
                    </tbody>
                </table>
            </div>
        </div>

        <div class="section">
            <h2>8. ê²°ë¡  ë° ê¶Œì¥ì‚¬í•­</h2>

            <div class="grid-2">
                <div class="insights">
                    <h4>âœ… ê¶Œì¥ ì¸ìŠ¤í„´ìŠ¤</h4>
                    <ul>
                        <li><strong>ìµœê³  Throughput (Burst)</strong>: c7i-flex.xlarge (101,658 req/sec)</li>
                        <li><strong>ìµœê³  Throughput (Sustained)</strong>: c7i-flex.xlarge (79K avg)</li>
                        <li><strong>ìµœê³  Cold Start</strong>: c8g.xlarge (4.29ì´ˆ)</li>
                        <li><strong>ì•ˆì •ì  ì„±ëŠ¥</strong>: c8i-flex.xlarge (CV 1.1%)</li>
                        <li><strong>ë¹„ìš© íš¨ìœ¨</strong>: c8g.xlarge (Graviton4)</li>
                    </ul>
                </div>
                <div class="warning-box">
                    <h4>âš ï¸ ì£¼ì˜ì‚¬í•­</h4>
                    <ul>
                        <li><strong>c6in P99 Latency</strong>: 184msë¡œ ë§¤ìš° ë†’ìŒ - í”¼í•˜ì„¸ìš”</li>
                        <li><strong>5ì„¸ëŒ€ AMD</strong>: Cold Startê°€ 11ì´ˆëŒ€ - ì„œë²„ë¦¬ìŠ¤ì— ë¶€ì í•©</li>
                        <li><strong>Flex ì„ íƒ</strong>: Burst ì›Œí¬ë¡œë“œëŠ” 7ì„¸ëŒ€, SLA í•„ìš”ì‹œ 8ì„¸ëŒ€</li>
                    </ul>
                </div>
            </div>

            <!-- Flex Time-Series í•µì‹¬ ê²°ë¡  -->
            <div style="background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%); border: 2px solid #f59e0b; border-radius: 0.75rem; padding: 1.5rem; margin-top: 1.5rem;">
                <h4 style="color: #92400e; margin-bottom: 1rem;">ğŸ“Š Time-Series í•µì‹¬ ê²°ë¡  (5íšŒ Ã— 600ì´ˆ ì¸¡ì •)</h4>
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem;">
                    <div style="background: white; padding: 1rem; border-radius: 0.5rem;">
                        <div style="font-size: 0.8rem; color: var(--muted);">7ì„¸ëŒ€ vs 8ì„¸ëŒ€ (Flex)</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: #10b981;">7ì„¸ëŒ€ê°€ 9% ë¹ ë¦„</div>
                        <div style="font-size: 0.75rem; color: var(--muted);">c7i-flex 92K vs c8i-flex 84K</div>
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 0.5rem;">
                        <div style="font-size: 0.8rem; color: var(--muted);">ê°€ì¥ ì•ˆì •ì </div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: #3b82f6;">m7i-flex</div>
                        <div style="font-size: 0.75rem; color: var(--muted);">CV: 4.6% (ê°€ì¥ ë‚®ìŒ)</div>
                    </div>
                    <div style="background: white; padding: 1rem; border-radius: 0.5rem;">
                        <div style="font-size: 0.8rem; color: var(--muted);">Flex vs Standard</div>
                        <div style="font-size: 1.25rem; font-weight: 700; color: #dc2626;">4.4ë°° ì°¨ì´</div>
                        <div style="font-size: 0.75rem; color: var(--muted);">c8i-flex 84K vs c8i 19K</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="footer">
            <p>Spring Boot Benchmark Report | Updated: 2026-01-22 | Amazon EKS 1.34 + Karpenter 1.5.0</p>
            <p style="margin-top: 0.5rem;">wrk 4.2.0 | Spring Boot 4.0.1 | OpenJDK 21.0.9</p>
            <p style="margin-top: 0.5rem; font-size: 0.8rem; color: var(--muted);">Includes Time-Series data from results/springboot-flex/</p>
        </div>
    </div>

    <script>
        // ë°ì´í„° ì •ì˜
        const data = [
            {instance: 'c7i-flex.xlarge', arch: 'intel', gen: 7, family: 'C', rps50: 87512, rps100: 94639, rps200: 101658, lat50: 1.698, lat99: 4.59, cold: 5.08, price: 0.193, flex: true},
            {instance: 'm7i-flex.xlarge', arch: 'intel', gen: 7, family: 'M', rps50: 79660, rps100: 88417, rps200: 97607, lat50: 1.792, lat99: 5.018, cold: 5.35, price: 0.218, flex: true},
            {instance: 'm8i.xlarge', arch: 'intel', gen: 8, family: 'M', rps50: 62956, rps100: 81528, rps200: 94181, lat50: 1.892, lat99: 4.472, cold: 4.69, price: 0.254, flex: false},
            {instance: 'r8i.xlarge', arch: 'intel', gen: 8, family: 'R', rps50: 66755, rps100: 83159, rps200: 94115, lat50: 1.906, lat99: 4.364, cold: 4.80, price: 0.316, flex: false},
            {instance: 'c8i.xlarge', arch: 'intel', gen: 8, family: 'C', rps50: 63427, rps100: 81303, rps200: 93746, lat50: 1.922, lat99: 4.314, cold: 4.37, price: 0.212, flex: false},
            {instance: 'c8i-flex.xlarge', arch: 'intel', gen: 8, family: 'C', rps50: 61541, rps100: 80121, rps200: 91741, lat50: 1.96, lat99: 4.76, cold: 4.51, price: 0.2, flex: true},
            {instance: 'r8i-flex.xlarge', arch: 'intel', gen: 8, family: 'R', rps50: 62212, rps100: 80328, rps200: 91191, lat50: 2.008, lat99: 4.724, cold: 4.69, price: 0.294, flex: true},
            {instance: 'r8g.xlarge', arch: 'graviton', gen: 8, family: 'R', rps50: 59089, rps100: 69323, rps200: 76418, lat50: 2.418, lat99: 5.126, cold: 4.41, price: 0.229, flex: false},
            {instance: 'm7i.xlarge', arch: 'intel', gen: 7, family: 'M', rps50: 66739, rps100: 70009, rps200: 75740, lat50: 2.466, lat99: 5.3, cold: 5.85, price: 0.242, flex: false},
            {instance: 'c8g.xlarge', arch: 'graviton', gen: 8, family: 'C', rps50: 57258, rps100: 66933, rps200: 74291, lat50: 2.482, lat99: 5.392, cold: 4.29, price: 0.154, flex: false},
            {instance: 'r7i.xlarge', arch: 'intel', gen: 7, family: 'R', rps50: 58688, rps100: 66550, rps200: 73161, lat50: 2.542, lat99: 5.1, cold: 5.54, price: 0.301, flex: false},
            {instance: 'm8g.xlarge', arch: 'graviton', gen: 8, family: 'M', rps50: 58069, rps100: 65460, rps200: 70844, lat50: 2.608, lat99: 5.326, cold: 4.55, price: 0.185, flex: false},
            {instance: 'c7i.xlarge', arch: 'intel', gen: 7, family: 'C', rps50: 52806, rps100: 59534, rps200: 64948, lat50: 2.868, lat99: 5.786, cold: 5.66, price: 0.202, flex: false},
            {instance: 'm6idn.xlarge', arch: 'intel', gen: 6, family: 'M', rps50: 45538, rps100: 51826, rps200: 54657, lat50: 3.526, lat99: 6.388, cold: 6.06, price: 0.321, flex: false},
            {instance: 'r6i.xlarge', arch: 'intel', gen: 6, family: 'R', rps50: 48128, rps100: 50908, rps200: 53514, lat50: 3.632, lat99: 6.704, cold: 6.47, price: 0.286, flex: false},
            {instance: 'r6id.xlarge', arch: 'intel', gen: 6, family: 'R', rps50: 46063, rps100: 48598, rps200: 50303, lat50: 3.866, lat99: 7.108, cold: 6.29, price: 0.353, flex: false},
            {instance: 'c6id.xlarge', arch: 'intel', gen: 6, family: 'C', rps50: 46803, rps100: 44060, rps200: 49937, lat50: 3.566, lat99: 10.328, cold: 6.00, price: 0.242, flex: false},
            {instance: 'm6i.xlarge', arch: 'intel', gen: 6, family: 'M', rps50: 45606, rps100: 48442, rps200: 49723, lat50: 3.914, lat99: 7.15, cold: 6.27, price: 0.23, flex: false},
            {instance: 'c6in.xlarge', arch: 'intel', gen: 6, family: 'C', rps50: 46226, rps100: 47824, rps200: 49297, lat50: 3.608, lat99: 184.582, cold: 5.87, price: 0.254, flex: false},
            {instance: 'm6in.xlarge', arch: 'intel', gen: 6, family: 'M', rps50: 40555, rps100: 45696, rps200: 47149, lat50: 4.118, lat99: 7.454, cold: 6.80, price: 0.285, flex: false},
            {instance: 'r7gd.xlarge', arch: 'graviton', gen: 7, family: 'R', rps50: 38572, rps100: 42485, rps200: 47028, lat50: 3.998, lat99: 8.156, cold: 5.59, price: 0.287, flex: false},
            {instance: 'm6id.xlarge', arch: 'intel', gen: 6, family: 'M', rps50: 42870, rps100: 45379, rps200: 46857, lat50: 4.164, lat99: 7.666, cold: 6.53, price: 0.285, flex: false},
            {instance: 'r7g.xlarge', arch: 'graviton', gen: 7, family: 'R', rps50: 37933, rps100: 41906, rps200: 46742, lat50: 4.05, lat99: 8.048, cold: 5.63, price: 0.24, flex: false},
            {instance: 'c7g.xlarge', arch: 'graviton', gen: 7, family: 'C', rps50: 38164, rps100: 42077, rps200: 45840, lat50: 4.15, lat99: 8.274, cold: 5.75, price: 0.162, flex: false},
            {instance: 'm7g.xlarge', arch: 'graviton', gen: 7, family: 'M', rps50: 36947, rps100: 41038, rps200: 45772, lat50: 4.132, lat99: 8.322, cold: 5.94, price: 0.194, flex: false},
            {instance: 'm7gd.xlarge', arch: 'graviton', gen: 7, family: 'M', rps50: 38351, rps100: 41613, rps200: 45606, lat50: 4.202, lat99: 8.332, cold: 5.71, price: 0.231, flex: false},
            {instance: 'm5zn.xlarge', arch: 'intel', gen: 5, family: 'M', rps50: 41783, rps100: 43771, rps200: 45387, lat50: 4.292, lat99: 7.822, cold: 6.25, price: 0.331, flex: false},
            {instance: 'c6i.xlarge', arch: 'intel', gen: 6, family: 'C', rps50: 42040, rps100: 43182, rps200: 43917, lat50: 4.442, lat99: 8.708, cold: 6.30, price: 0.192, flex: false},
            {instance: 'c7gd.xlarge', arch: 'graviton', gen: 7, family: 'C', rps50: 36311, rps100: 39330, rps200: 42797, lat50: 4.478, lat99: 9.16, cold: 5.44, price: 0.193, flex: false},
            {instance: 'r5.xlarge', arch: 'intel', gen: 5, family: 'R', rps50: 33757, rps100: 35103, rps200: 36185, lat50: 5.386, lat99: 9.942, cold: 8.23, price: 0.286, flex: false},
            {instance: 'r5n.xlarge', arch: 'intel', gen: 5, family: 'R', rps50: 33805, rps100: 35487, rps200: 35883, lat50: 5.424, lat99: 9.914, cold: 7.87, price: 0.343, flex: false},
            {instance: 'r5d.xlarge', arch: 'intel', gen: 5, family: 'R', rps50: 33302, rps100: 34891, rps200: 35052, lat50: 5.552, lat99: 10.168, cold: 8.10, price: 0.329, flex: false},
            {instance: 'r5dn.xlarge', arch: 'intel', gen: 5, family: 'R', rps50: 32578, rps100: 33717, rps200: 34533, lat50: 5.662, lat99: 10.454, cold: 8.33, price: 0.377, flex: false},
            {instance: 'r5b.xlarge', arch: 'intel', gen: 5, family: 'R', rps50: 32365, rps100: 33557, rps200: 34461, lat50: 5.66, lat99: 10.572, cold: 7.97, price: 0.343, flex: false},
            {instance: 'm6g.xlarge', arch: 'graviton', gen: 6, family: 'M', rps50: 29014, rps100: 31898, rps200: 34293, lat50: 5.556, lat99: 11.234, cold: 7.55, price: 0.185, flex: false},
            {instance: 'm5.xlarge', arch: 'intel', gen: 5, family: 'M', rps50: 33465, rps100: 32932, rps200: 33345, lat50: 5.562, lat99: 14.634, cold: 7.45, price: 0.23, flex: false},
            {instance: 'm5d.xlarge', arch: 'intel', gen: 5, family: 'M', rps50: 32385, rps100: 31809, rps200: 33234, lat50: 5.802, lat99: 11.17, cold: 7.96, price: 0.261, flex: false},
            {instance: 'c6gd.xlarge', arch: 'graviton', gen: 6, family: 'C', rps50: 27701, rps100: 30312, rps200: 33005, lat50: 5.822, lat99: 11.604, cold: 7.73, price: 0.185, flex: false},
            {instance: 'c5n.xlarge', arch: 'intel', gen: 5, family: 'C', rps50: 30439, rps100: 33690, rps200: 32199, lat50: 5.97, lat99: 19.462, cold: 7.35, price: 0.242, flex: false},
            {instance: 'c5a.xlarge', arch: 'amd', gen: 5, family: 'C', rps50: 29655, rps100: 30832, rps200: 30856, lat50: 6.324, lat99: 11.56, cold: 6.96, price: 0.173, flex: false},
            {instance: 'm6gd.xlarge', arch: 'graviton', gen: 6, family: 'M', rps50: 26674, rps100: 28960, rps200: 30725, lat50: 6.274, lat99: 12.55, cold: 7.82, price: 0.22, flex: false},
            {instance: 'c6g.xlarge', arch: 'graviton', gen: 6, family: 'C', rps50: 26011, rps100: 28411, rps200: 30564, lat50: 6.332, lat99: 12.832, cold: 7.65, price: 0.154, flex: false},
            {instance: 'c6gn.xlarge', arch: 'graviton', gen: 6, family: 'C', rps50: 26002, rps100: 28383, rps200: 30359, lat50: 6.386, lat99: 12.712, cold: 7.18, price: 0.194, flex: false},
            {instance: 'c5.xlarge', arch: 'intel', gen: 5, family: 'C', rps50: 35256, rps100: 37299, rps200: 29877, lat50: 4.768, lat99: 9.028, cold: 7.14, price: 0.192, flex: false},
            {instance: 'r6g.xlarge', arch: 'graviton', gen: 6, family: 'R', rps50: 26298, rps100: 28093, rps200: 29783, lat50: 6.462, lat99: 13.18, cold: 7.69, price: 0.229, flex: false},
            {instance: 'r6gd.xlarge', arch: 'graviton', gen: 6, family: 'R', rps50: 25692, rps100: 27545, rps200: 29033, lat50: 6.62, lat99: 13.184, cold: 7.34, price: 0.264, flex: false},
            {instance: 'c5d.xlarge', arch: 'intel', gen: 5, family: 'C', rps50: 34602, rps100: 38132, rps200: 27012, lat50: 3.197, lat99: 8.824, cold: 7.19, price: 0.218, flex: false},
            {instance: 'r5ad.xlarge', arch: 'amd', gen: 5, family: 'R', rps50: 23799, rps100: 24411, rps200: 24329, lat50: 8.01, lat99: 14.832, cold: 10.96, price: 0.308, flex: false},
            {instance: 'r5a.xlarge', arch: 'amd', gen: 5, family: 'R', rps50: 22804, rps100: 22976, rps200: 22983, lat50: 8.5, lat99: 15.876, cold: 11.22, price: 0.257, flex: false},
            {instance: 'm5ad.xlarge', arch: 'amd', gen: 5, family: 'M', rps50: 22102, rps100: 22822, rps200: 22825, lat50: 8.446, lat99: 16.756, cold: 11.08, price: 0.247, flex: false},
            {instance: 'm5a.xlarge', arch: 'amd', gen: 5, family: 'M', rps50: 22092, rps100: 22364, rps200: 22443, lat50: 8.716, lat99: 16.518, cold: 11.48, price: 0.206, flex: false}
        ];

        const colors = {
            graviton: '#10b981',
            intel: '#3b82f6',
            amd: '#ef4444'
        };

        // Scenario tab switching
        function showScenario(scenario) {
            document.querySelectorAll('.scenario-content').forEach(el => el.style.display = 'none');
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById('scenario-' + scenario).style.display = 'block';
            event.target.classList.add('active');
        }

        // Top 20 charts for each scenario
        function createTop20Chart(canvasId, rpsKey, title) {
            const sorted = [...data].sort((a, b) => b[rpsKey] - a[rpsKey]).slice(0, 20);
            new Chart(document.getElementById(canvasId), {
                type: 'bar',
                data: {
                    labels: sorted.map(d => d.instance),
                    datasets: [{
                        label: title,
                        data: sorted.map(d => d[rpsKey]),
                        backgroundColor: sorted.map(d => colors[d.arch]),
                        borderRadius: 4
                    }]
                },
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: { legend: { display: false } },
                    scales: { x: { beginAtZero: true, title: { display: true, text: 'Requests/sec' } } }
                }
            });
        }

        createTop20Chart('wrkTop20Chart200', 'rps200', 'High Load (200 conn)');
        createTop20Chart('wrkTop20Chart100', 'rps100', 'Normal Load (100 conn)');
        createTop20Chart('wrkTop20Chart50', 'rps50', 'Light Load (50 conn)');

        // Scenario comparison chart (Top 10) - with family filter
        const top10 = [...data].sort((a, b) => b.rps200 - a.rps200).slice(0, 10);
        let scenarioCompareChart = new Chart(document.getElementById('scenarioCompareChart'), {
            type: 'bar',
            data: {
                labels: top10.map(d => d.instance),
                datasets: [
                    { label: '50 conn', data: top10.map(d => d.rps50), backgroundColor: 'rgba(59, 130, 246, 0.5)' },
                    { label: '100 conn', data: top10.map(d => d.rps100), backgroundColor: 'rgba(59, 130, 246, 0.75)' },
                    { label: '200 conn', data: top10.map(d => d.rps200), backgroundColor: 'rgba(59, 130, 246, 1)' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'Requests/sec' } } }
            }
        });

        // Family filter function for scenario comparison
        window.switchScenarioFamily = function(family, btn) {
            // Update active button
            document.querySelectorAll('#scenario-compare-section .tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Filter data by family
            let filtered;
            if (family === 'all') {
                filtered = [...data].sort((a, b) => b.rps200 - a.rps200).slice(0, 10);
            } else {
                filtered = data.filter(d => d.instance.toLowerCase().startsWith(family))
                              .sort((a, b) => b.rps200 - a.rps200);
            }

            // Color by architecture
            const getColor = (inst, alpha) => {
                if (inst.includes('g.') || inst.includes('gd.') || inst.includes('gn.')) return `rgba(16, 185, 129, ${alpha})`;  // Graviton green
                if (inst.includes('a.') || inst.includes('ad.')) return `rgba(239, 68, 68, ${alpha})`;  // AMD red
                return `rgba(59, 130, 246, ${alpha})`;  // Intel blue
            };

            // Update chart
            scenarioCompareChart.data.labels = filtered.map(d => d.instance);
            scenarioCompareChart.data.datasets = [
                {
                    label: '50 conn',
                    data: filtered.map(d => d.rps50),
                    backgroundColor: filtered.map(d => getColor(d.instance, 0.5))
                },
                {
                    label: '100 conn',
                    data: filtered.map(d => d.rps100),
                    backgroundColor: filtered.map(d => getColor(d.instance, 0.75))
                },
                {
                    label: '200 conn',
                    data: filtered.map(d => d.rps200),
                    backgroundColor: filtered.map(d => getColor(d.instance, 1))
                }
            ];
            scenarioCompareChart.update();
        };

        // Generation by Architecture charts
        const genLabels = ['5ì„¸ëŒ€', '6ì„¸ëŒ€', '7ì„¸ëŒ€', '8ì„¸ëŒ€'];

        // Calculate generation averages
        function calcGenAvg(arch, gen, key) {
            const filtered = data.filter(d => d.arch === arch && d.gen === gen);
            if (filtered.length === 0) return null;
            return Math.round(filtered.reduce((sum, d) => sum + d[key], 0) / filtered.length);
        }

        const genRps200 = {
            intel: [5,6,7,8].map(g => calcGenAvg('intel', g, 'rps200')),
            amd: [5,6,7,8].map(g => calcGenAvg('amd', g, 'rps200')),
            graviton: [5,6,7,8].map(g => calcGenAvg('graviton', g, 'rps200'))
        };

        new Chart(document.getElementById('genArchWrkChart'), {
            type: 'bar',
            data: {
                labels: genLabels,
                datasets: [
                    { label: 'Intel', data: genRps200.intel, backgroundColor: 'rgba(59, 130, 246, 0.8)' },
                    { label: 'AMD', data: genRps200.amd, backgroundColor: 'rgba(239, 68, 68, 0.8)' },
                    { label: 'Graviton', data: genRps200.graviton, backgroundColor: 'rgba(16, 185, 129, 0.8)' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'Requests/sec (200 conn)' } } }
            }
        });

        // 100 conn chart
        const genRps100 = {
            intel: [5,6,7,8].map(g => calcGenAvg('intel', g, 'rps100')),
            amd: [5,6,7,8].map(g => calcGenAvg('amd', g, 'rps100')),
            graviton: [5,6,7,8].map(g => calcGenAvg('graviton', g, 'rps100'))
        };

        new Chart(document.getElementById('genArch100Chart'), {
            type: 'bar',
            data: {
                labels: genLabels,
                datasets: [
                    { label: 'Intel', data: genRps100.intel, backgroundColor: 'rgba(59, 130, 246, 0.8)' },
                    { label: 'AMD', data: genRps100.amd, backgroundColor: 'rgba(239, 68, 68, 0.8)' },
                    { label: 'Graviton', data: genRps100.graviton, backgroundColor: 'rgba(16, 185, 129, 0.8)' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'Requests/sec' } } }
            }
        });

        // 50 conn chart
        const genRps50 = {
            intel: [5,6,7,8].map(g => calcGenAvg('intel', g, 'rps50')),
            amd: [5,6,7,8].map(g => calcGenAvg('amd', g, 'rps50')),
            graviton: [5,6,7,8].map(g => calcGenAvg('graviton', g, 'rps50'))
        };

        new Chart(document.getElementById('genArch50Chart'), {
            type: 'bar',
            data: {
                labels: genLabels,
                datasets: [
                    { label: 'Intel', data: genRps50.intel, backgroundColor: 'rgba(59, 130, 246, 0.8)' },
                    { label: 'AMD', data: genRps50.amd, backgroundColor: 'rgba(239, 68, 68, 0.8)' },
                    { label: 'Graviton', data: genRps50.graviton, backgroundColor: 'rgba(16, 185, 129, 0.8)' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'Requests/sec' } } }
            }
        });

        // Latency P50 Chart
        const latP50Sorted = [...data].sort((a, b) => a.lat50 - b.lat50).slice(0, 15);
        new Chart(document.getElementById('latencyP50Chart'), {
            type: 'bar',
            data: {
                labels: latP50Sorted.map(d => d.instance),
                datasets: [{
                    label: 'P50 Latency (ms)',
                    data: latP50Sorted.map(d => d.lat50),
                    backgroundColor: latP50Sorted.map(d => colors[d.arch]),
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { x: { beginAtZero: true, title: { display: true, text: 'ms (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)' } } }
            }
        });

        // Latency P99 Chart (exclude c6in outlier for better visualization)
        const latP99Sorted = [...data].filter(d => d.lat99 < 50).sort((a, b) => a.lat99 - b.lat99).slice(0, 15);
        new Chart(document.getElementById('latencyP99Chart'), {
            type: 'bar',
            data: {
                labels: latP99Sorted.map(d => d.instance),
                datasets: [{
                    label: 'P99 Latency (ms)',
                    data: latP99Sorted.map(d => d.lat99),
                    backgroundColor: latP99Sorted.map(d => colors[d.arch]),
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { x: { beginAtZero: true, title: { display: true, text: 'ms (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)' } } }
            }
        });

        // Throughput vs Latency scatter
        new Chart(document.getElementById('throughputLatencyChart'), {
            type: 'bubble',
            data: {
                datasets: [
                    {
                        label: 'Intel',
                        data: data.filter(d => d.arch === 'intel' && d.lat99 < 50).map(d => ({x: d.rps200, y: d.lat50, r: Math.min(d.lat99, 20), instance: d.instance, lat99: d.lat99})),
                        backgroundColor: 'rgba(59, 130, 246, 0.6)'
                    },
                    {
                        label: 'AMD',
                        data: data.filter(d => d.arch === 'amd').map(d => ({x: d.rps200, y: d.lat50, r: Math.min(d.lat99, 20), instance: d.instance, lat99: d.lat99})),
                        backgroundColor: 'rgba(239, 68, 68, 0.6)'
                    },
                    {
                        label: 'Graviton',
                        data: data.filter(d => d.arch === 'graviton').map(d => ({x: d.rps200, y: d.lat50, r: Math.min(d.lat99, 20), instance: d.instance, lat99: d.lat99})),
                        backgroundColor: 'rgba(16, 185, 129, 0.6)'
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'top' },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const d = context.raw;
                                return d.instance + ': ' + d.x.toLocaleString() + ' req/s, P50: ' + d.y.toFixed(1) + 'ms, P99: ' + d.lat99.toFixed(1) + 'ms';
                            }
                        }
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'Requests/sec (ë†’ì„ìˆ˜ë¡ ì¢‹ìŒ)' } },
                    y: { title: { display: true, text: 'P50 Latency ms (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)' } }
                }
            }
        });

        // Flex comparison charts
        new Chart(document.getElementById('flexWrkChart'), {
            type: 'bar',
            data: {
                labels: ['c7i', 'c7i-flex', 'c8i', 'c8i-flex'],
                datasets: [{
                    label: 'Requests/sec (200 conn)',
                    data: [64948, 101658, 93746, 91741],
                    backgroundColor: ['#3b82f6', '#60a5fa', '#3b82f6', '#fca5a5'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'Requests/sec' } } }
            }
        });

        new Chart(document.getElementById('flexColdChart'), {
            type: 'bar',
            data: {
                labels: ['c7i', 'c7i-flex', 'c8i', 'c8i-flex'],
                datasets: [{
                    label: 'Cold Start (ì´ˆ)',
                    data: [5.66, 5.08, 4.37, 4.51],
                    backgroundColor: ['#3b82f6', '#60a5fa', '#3b82f6', '#60a5fa'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'ì´ˆ (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)' } } }
            }
        });

        // Flex Time-Series Data (600 seconds, 10s intervals, Run 2 representative values)
        // 5íšŒ ì¸¡ì • ì¤‘ ê°€ì¥ ëŒ€í‘œì ì¸ Run 2 ë°ì´í„° ì‚¬ìš© (30s warmup í›„ ì¸¡ì •)
        // Data source: results/springboot-flex/timeseries-all.csv (Run 2)

        // Latency Avg Data (Run 2)
        const latencyAvgData = {
            c7iFlex: [1.41, 1.11, 1.02, 1.0, 0.93, 1.13, 0.96, 1.02, 1.03, 0.99, 0.95, 0.96, 0.98, 1.03, 1.14, 1.04, 0.99, 0.97, 0.97, 1.01, 1.01, 1.03, 1.03, 0.98, 0.93, 0.97, 0.98, 1.01, 1.01, 1.04, 0.98, 0.94, 0.94, 1.02, 1.05, 1.05, 0.99, 0.94, 0.96, 0.96, 1.04, 1.03, 1.01, 0.98, 0.94, 0.93, 0.97, 1.0, 1.0, 0.98, 0.94, 0.92, 0.99, 1.03, 1.01, 1.0, 0.97, 0.97, 0.96, 0.98],
            c8iFlex: [1.08, 1.22, 1.22, 1.15, 1.07, 1.07, 1.07, 1.13, 1.23, 1.21, 1.09, 1.08, 1.07, 1.07, 1.2, 1.2, 1.14, 1.1, 1.07, 1.07, 1.14, 1.21, 1.18, 1.15, 1.08, 1.07, 1.1, 1.22, 1.21, 1.18, 1.12, 1.1, 1.09, 1.14, 1.19, 1.19, 1.15, 1.09, 1.08, 1.07, 1.17, 1.18, 1.18, 1.11, 1.08, 1.07, 1.11, 1.17, 1.18, 1.16, 1.09, 1.07, 1.08, 1.14, 1.19, 1.18, 1.16, 1.09, 1.08, 1.09],
            m7iFlex: [1.31, 1.56, 1.44, 1.4, 1.38, 1.41, 1.43, 1.46, 1.39, 1.4, 1.35, 1.33, 1.37, 1.38, 1.37, 1.32, 1.34, 1.33, 1.33, 1.35, 1.35, 1.32, 1.33, 1.3, 1.34, 1.39, 1.38, 1.4, 1.38, 1.43, 1.44, 1.37, 1.39, 1.36, 1.35, 1.35, 1.37, 1.35, 1.39, 1.36, 1.37, 1.37, 1.38, 1.36, 1.3, 1.36, 1.37, 1.38, 1.44, 1.42, 1.39, 1.36, 1.35, 1.35, 1.38, 1.35, 1.34, 1.37, 1.28, 1.29],
            r8iFlex: [1.1, 1.24, 1.3, 1.22, 1.15, 1.15, 1.17, 1.2, 1.37, 1.32, 1.18, 1.12, 1.13, 1.1, 1.24, 1.29, 1.23, 1.11, 1.09, 1.1, 1.13, 1.25, 1.23, 1.16, 1.1, 1.09, 1.09, 1.19, 1.2, 1.17, 1.09, 1.08, 1.09, 1.12, 1.2, 1.19, 1.15, 1.1, 1.09, 1.08, 1.17, 1.2, 1.22, 1.16, 1.11, 1.1, 1.13, 1.19, 1.21, 1.19, 1.09, 1.08, 1.08, 1.13, 1.18, 1.17, 1.13, 1.08, 1.08, 1.09],
            c8iStd: [1.14, 1.24, 1.28, 1.22, 1.14, 1.15, 1.15, 1.18, 1.26, 1.26, 1.15, 1.14, 1.15, 1.15, 1.24, 1.26, 1.21, 1.16, 1.15, 1.15, 1.18, 1.25, 1.24, 1.2, 1.16, 1.15, 1.14, 1.23, 1.23, 1.23, 1.16, 1.15, 1.14, 1.18, 1.25, 1.23, 1.2, 1.14, 1.15, 1.14, 1.24, 1.23, 1.23, 1.17, 1.14, 1.15, 1.18, 1.24, 1.24, 1.21, 1.16, 1.15, 1.15, 1.2, 1.24, 1.23, 1.2, 1.14, 1.15, 1.15],
            c8g: [1.5, 1.51, 1.53, 1.5, 1.49, 1.48, 1.49, 1.5, 1.51, 1.52, 1.49, 1.49, 1.48, 1.49, 1.51, 1.51, 1.51, 1.48, 1.51, 1.5, 1.51, 1.52, 1.51, 1.5, 1.51, 1.52, 1.5, 1.53, 1.52, 1.5, 1.51, 1.49, 1.47, 1.5, 1.53, 1.54, 1.52, 1.51, 1.49, 1.5, 1.52, 1.52, 1.5, 1.5, 1.48, 1.49, 1.51, 1.5, 1.49, 1.5, 1.5, 1.48, 1.51, 1.5, 1.5, 1.53, 1.49, 1.49, 1.48, 1.52]
        };

        // Latency P99 Data (Run 2)
        const latencyP99Data = {
            c7iFlex: [7.22, 3.92, 3.31, 3.08, 2.36, 8.19, 2.36, 3.19, 3.33, 3.23, 2.57, 2.4, 2.35, 2.77, 3.49, 3.19, 2.94, 2.38, 2.43, 2.53, 3.03, 3.37, 3.2, 2.77, 2.28, 2.33, 2.64, 3.28, 3.17, 3.13, 2.42, 2.28, 2.11, 3.12, 3.25, 3.21, 2.82, 2.43, 2.27, 2.59, 3.2, 3.18, 3.14, 2.75, 2.37, 2.12, 2.8, 3.17, 3.1, 3.1, 2.36, 2.26, 2.65, 3.26, 3.17, 3.19, 2.71, 2.38, 2.3, 2.71],
            c8iFlex: [2.28, 3.27, 3.4, 3.3, 2.43, 2.45, 2.53, 2.98, 3.48, 3.38, 2.73, 2.58, 2.49, 2.42, 3.23, 3.43, 3.15, 2.98, 2.54, 2.47, 2.98, 3.4, 3.35, 3.27, 2.54, 2.39, 2.52, 3.29, 3.39, 3.15, 2.76, 2.6, 2.54, 2.88, 3.15, 3.14, 3.02, 2.68, 2.53, 2.44, 3.12, 3.24, 3.14, 2.94, 2.58, 2.5, 2.77, 3.32, 3.34, 3.22, 2.73, 2.5, 2.62, 3.02, 3.37, 3.28, 3.34, 2.56, 2.51, 2.64],
            m7iFlex: [3.56, 4.52, 4.11, 3.9, 3.33, 3.45, 3.54, 3.9, 3.84, 3.96, 3.53, 3.41, 3.31, 3.34, 3.76, 3.77, 3.59, 3.58, 3.16, 3.31, 3.62, 3.91, 3.65, 3.41, 3.49, 3.63, 3.5, 3.91, 3.86, 3.84, 3.79, 3.62, 3.26, 3.54, 3.68, 3.77, 3.73, 3.43, 3.74, 3.34, 3.85, 3.93, 3.87, 3.7, 3.32, 3.38, 3.53, 3.85, 4.0, 3.71, 3.59, 3.18, 3.48, 3.63, 3.76, 3.77, 3.7, 3.3, 3.2, 3.34],
            r8iFlex: [2.24, 3.43, 3.79, 3.56, 2.7, 2.6, 2.71, 3.13, 3.99, 3.88, 3.54, 2.52, 2.66, 2.54, 3.25, 3.7, 3.5, 2.62, 2.44, 2.53, 2.84, 3.52, 3.67, 3.31, 2.49, 2.49, 2.46, 3.23, 3.29, 3.13, 2.62, 2.47, 2.51, 2.81, 3.31, 3.36, 3.19, 2.71, 2.47, 2.47, 3.15, 3.28, 3.48, 3.29, 2.51, 2.55, 2.73, 3.36, 3.64, 3.55, 2.59, 2.39, 2.51, 2.89, 3.36, 3.25, 2.94, 2.43, 2.42, 2.54],
            c8iStd: [2.3, 3.19, 3.47, 3.4, 2.38, 2.47, 2.4, 2.72, 3.3, 3.46, 2.62, 2.39, 2.45, 2.48, 3.2, 3.43, 3.23, 2.48, 2.4, 2.47, 2.8, 3.35, 3.39, 3.18, 2.46, 2.44, 2.43, 3.2, 3.25, 3.27, 2.54, 2.43, 2.42, 2.89, 3.21, 3.16, 2.97, 2.34, 2.47, 2.36, 3.25, 3.22, 3.26, 2.83, 2.39, 2.51, 2.76, 3.34, 3.39, 3.23, 2.69, 2.45, 2.53, 2.97, 3.27, 3.34, 3.19, 2.35, 2.47, 2.51],
            c8g: [3.68, 4.05, 4.03, 3.91, 3.3, 3.27, 3.48, 3.8, 3.87, 3.96, 3.6, 3.38, 3.33, 3.59, 3.86, 3.91, 3.76, 3.34, 3.71, 3.64, 3.96, 4.17, 3.95, 3.98, 3.65, 3.76, 3.67, 3.91, 3.92, 3.88, 4.15, 3.62, 3.5, 3.86, 4.14, 4.1, 3.91, 3.61, 3.65, 3.61, 3.91, 3.9, 3.85, 3.59, 3.08, 3.34, 3.72, 3.72, 3.7, 3.74, 3.53, 3.26, 3.65, 3.72, 3.94, 4.19, 3.92, 3.38, 3.3, 3.82]
        };

        const flexTimeseriesData = {
            labels: Array.from({length: 60}, (_, i) => (i + 1) * 10),
            c7iFlex: [79394,82335,86351,95022,105714,100917,102824,90164,85879,91487,102509,103330,100960,94378,78571,86618,94681,101492,102739,98981,90559,88287,89090,97522,105490,101595,98706,88593,89721,89890,100327,104995,105113,90910,87331,87739,95639,104649,103161,100812,87003,89419,91992,99836,106160,106567,96726,91730,91803,94926,105043,107351,102842,89108,91333,91295,99082,102029,102553,97214],
            c8iFlex: [92240,74124,73535,81813,92912,92544,92386,84631,72840,75193,89549,91742,91903,92602,74822,75297,83140,89633,93073,93348,83625,74956,78796,83452,91896,92816,91527,75468,76486,79020,87098,90614,90845,84728,77418,77785,83267,90855,92089,92005,78497,78226,78630,88217,90633,92189,87239,78993,78926,81455,90055,92641,92011,82495,78095,79133,82885,90493,91303,89921],
            m7iFlex: [74233,60396,63672,69342,73119,71363,70691,66691,65745,68028,72240,75737,73415,71389,66536,70516,70955,75780,75402,74892,70007,70382,71179,75101,75038,72430,71580,66206,68565,66653,68638,73561,72302,69922,69251,70202,70089,73955,72212,72259,68451,68911,68844,72158,76664,73668,70280,68518,66249,67317,71992,72963,73358,69386,68482,69672,71986,72743,78627,74796],
            r8iFlex: [90292,72496,69700,78367,86993,87059,86265,81567,66486,70251,84049,89651,89120,90250,75455,71766,77029,89180,90926,90565,86169,73258,75286,82588,89730,90301,90781,78127,76773,78836,89527,91500,90613,85485,76690,77677,83174,88895,90414,90302,79643,77113,76325,84174,88474,89235,85189,77596,77276,78583,89694,92189,91027,84340,78582,78681,84634,91073,91759,89028],
            c8iStd: [87343,73866,70785,77480,86659,85461,85721,81786,70997,71846,84679,86289,85566,85470,74068,72243,78703,84453,85359,84908,81141,72711,74504,79928,84958,85684,85880,75120,75100,75236,84298,86129,85683,81151,74184,75383,79259,86768,85398,86189,74416,74775,75859,83452,85770,85072,82190,74594,74621,78235,84097,85763,85626,78781,74747,75480,79422,86525,84700,84353],
            c8g: [64311,61535,60151,64112,67644,68049,67047,61432,61103,62640,66464,68119,68177,64661,61479,61929,63552,68100,67441,67227,61064,61161,62899,65403,66615,66626,64127,60926,62210,63716,65640,68285,68495,62246,62110,61837,63141,66507,67580,64804,62002,62175,63588,65872,67667,67211,62745,63025,63395,64273,66947,67741,64654,62921,63464,62382,65402,67328,67906,62379]
        };

        // Flex Time-Series Line Chart (with metric switching)
        let flexTimeseriesChart = new Chart(document.getElementById('flexTimeseriesChart'), {
            type: 'line',
            data: {
                labels: flexTimeseriesData.labels,
                datasets: [
                    {
                        label: 'c7i-flex.xlarge (7ì„¸ëŒ€ Flex)',
                        data: flexTimeseriesData.c7iFlex,
                        borderColor: '#10b981',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        fill: false,
                        tension: 0.3,
                        pointRadius: 2,
                        borderWidth: 2
                    },
                    {
                        label: 'c8i-flex.xlarge (8ì„¸ëŒ€ Flex)',
                        data: flexTimeseriesData.c8iFlex,
                        borderColor: '#3b82f6',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: false,
                        tension: 0.3,
                        pointRadius: 2,
                        borderWidth: 2
                    },
                    {
                        label: 'm7i-flex.xlarge (7ì„¸ëŒ€ Flex)',
                        data: flexTimeseriesData.m7iFlex,
                        borderColor: '#8b5cf6',
                        backgroundColor: 'rgba(139, 92, 246, 0.1)',
                        fill: false,
                        tension: 0.3,
                        pointRadius: 2,
                        borderWidth: 2
                    },
                    {
                        label: 'r8i-flex.xlarge (8ì„¸ëŒ€ Flex)',
                        data: flexTimeseriesData.r8iFlex,
                        borderColor: '#f59e0b',
                        backgroundColor: 'rgba(245, 158, 11, 0.1)',
                        fill: false,
                        tension: 0.3,
                        pointRadius: 2,
                        borderWidth: 2
                    },
                    {
                        label: 'c8i (Standard)',
                        data: flexTimeseriesData.c8iStd,
                        borderColor: '#1e40af',
                        backgroundColor: 'rgba(30, 64, 175, 0.1)',
                        fill: false,
                        tension: 0.3,
                        pointRadius: 2,
                        borderWidth: 2,
                        borderDash: [5, 5]
                    },
                    {
                        label: 'c8g (Graviton4)',
                        data: flexTimeseriesData.c8g,
                        borderColor: '#059669',
                        backgroundColor: 'rgba(5, 150, 105, 0.1)',
                        fill: false,
                        tension: 0.3,
                        pointRadius: 2,
                        borderWidth: 2,
                        borderDash: [5, 5]
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: { intersect: false, mode: 'index' },
                plugins: {
                    legend: { position: 'top' },
                    tooltip: {
                        callbacks: {
                            title: function(context) { return context[0].label + 'ì´ˆ ê²½ê³¼'; },
                            label: function(context) { return context.dataset.label + ': ' + context.parsed.y.toLocaleString() + ' req/sec'; }
                        }
                    }
                },
                scales: {
                    x: { title: { display: true, text: 'ê²½ê³¼ ì‹œê°„ (ì´ˆ)' } },
                    y: {
                        title: { display: true, text: 'Requests/sec' },
                        min: 10000,
                        max: 110000
                    }
                }
            }
        });

        // Function to switch time-series metric
        function switchTimeseriesMetric(metric, btn) {
            // Update active tab button
            document.querySelectorAll('#flex-timeseries .tab-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');

            // Define data and settings for each metric
            const metricConfig = {
                throughput: {
                    title: 'Flex vs Standard vs Graviton4 ì‹œê°„ë³„ Throughput (600ì´ˆ ì§€ì† ë¶€í•˜, Run 2)',
                    data: flexTimeseriesData,
                    yTitle: 'Requests/sec',
                    yMin: 10000,
                    yMax: 110000,
                    tooltipSuffix: ' req/sec'
                },
                latency: {
                    title: 'Flex vs Standard vs Graviton4 ì‹œê°„ë³„ Latency Avg (600ì´ˆ ì§€ì† ë¶€í•˜, Run 2)',
                    data: latencyAvgData,
                    yTitle: 'Latency (ms)',
                    yMin: 0.5,
                    yMax: 2.0,
                    tooltipSuffix: ' ms'
                },
                p99: {
                    title: 'Flex vs Standard vs Graviton4 ì‹œê°„ë³„ Latency P99 (600ì´ˆ ì§€ì† ë¶€í•˜, Run 2)',
                    data: latencyP99Data,
                    yTitle: 'P99 Latency (ms)',
                    yMin: 1.5,
                    yMax: 9.0,
                    tooltipSuffix: ' ms'
                }
            };

            const config = metricConfig[metric];

            // Update chart title
            document.getElementById('timeseriesChartTitle').textContent = config.title;

            // Update chart data
            flexTimeseriesChart.data.datasets[0].data = config.data.c7iFlex;
            flexTimeseriesChart.data.datasets[1].data = config.data.c8iFlex;
            flexTimeseriesChart.data.datasets[2].data = config.data.m7iFlex;
            flexTimeseriesChart.data.datasets[3].data = config.data.r8iFlex;
            flexTimeseriesChart.data.datasets[4].data = config.data.c8iStd;
            flexTimeseriesChart.data.datasets[5].data = config.data.c8g;

            // Update Y axis
            flexTimeseriesChart.options.scales.y.title.text = config.yTitle;
            flexTimeseriesChart.options.scales.y.min = config.yMin;
            flexTimeseriesChart.options.scales.y.max = config.yMax;

            // Update tooltip
            flexTimeseriesChart.options.plugins.tooltip.callbacks.label = function(context) {
                return context.dataset.label + ': ' + context.parsed.y.toLocaleString() + config.tooltipSuffix;
            };

            flexTimeseriesChart.update();
        }

        // Flex Average Throughput Chart
        new Chart(document.getElementById('flexAvgChart'), {
            type: 'bar',
            data: {
                labels: ['c7i-flex', 'c8i-flex', 'm7i-flex', 'r8i-flex', 'c8i (Standard)', 'c8g (Graviton4)'],
                datasets: [{
                    label: 'í‰ê·  Throughput (req/sec)',
                    data: [92551, 84409, 71188, 84270, 80526, 64393],
                    backgroundColor: ['#10b981', '#3b82f6', '#8b5cf6', '#f59e0b', '#1e40af', '#059669'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'req/sec' } } }
            }
        });

        // Flex Standard Deviation (CV%) Chart
        new Chart(document.getElementById('flexStddevChart'), {
            type: 'bar',
            data: {
                labels: ['c7i-flex', 'c8i-flex', 'm7i-flex', 'r8i-flex', 'c8i (Standard)', 'c8g (Graviton4)'],
                datasets: [{
                    label: 'ë³€ë™ê³„ìˆ˜ CV% (ë‚®ì„ìˆ˜ë¡ ì•ˆì •ì )',
                    data: [8.8, 8.2, 4.6, 8.1, 6.3, 3.8],
                    backgroundColor: ['#fcd34d', '#93c5fd', '#c4b5fd', '#fde68a', '#1e40af', '#86efac'],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'CV% (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)' } } }
            }
        });

        // Cold Start Top 20
        const coldSorted = [...data].filter(d => d.cold > 0).sort((a, b) => a.cold - b.cold).slice(0, 20);
        new Chart(document.getElementById('coldstartTop20Chart'), {
            type: 'bar',
            data: {
                labels: coldSorted.map(d => d.instance),
                datasets: [{
                    label: 'Cold Start (ì´ˆ)',
                    data: coldSorted.map(d => d.cold),
                    backgroundColor: coldSorted.map(d => colors[d.arch]),
                    borderRadius: 4
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { x: { beginAtZero: true, title: { display: true, text: 'ì´ˆ (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)' } } }
            }
        });

        // Generation Cold Start by Arch
        const genCold = {
            intel: [5,6,7,8].map(g => {
                const filtered = data.filter(d => d.arch === 'intel' && d.gen === g && d.cold > 0);
                return filtered.length ? Math.round(filtered.reduce((sum, d) => sum + d.cold, 0) / filtered.length * 100) / 100 : null;
            }),
            amd: [5,6,7,8].map(g => {
                const filtered = data.filter(d => d.arch === 'amd' && d.gen === g && d.cold > 0);
                return filtered.length ? Math.round(filtered.reduce((sum, d) => sum + d.cold, 0) / filtered.length * 100) / 100 : null;
            }),
            graviton: [5,6,7,8].map(g => {
                const filtered = data.filter(d => d.arch === 'graviton' && d.gen === g && d.cold > 0);
                return filtered.length ? Math.round(filtered.reduce((sum, d) => sum + d.cold, 0) / filtered.length * 100) / 100 : null;
            })
        };

        new Chart(document.getElementById('genArchColdChart'), {
            type: 'bar',
            data: {
                labels: genLabels,
                datasets: [
                    { label: 'Intel', data: genCold.intel, backgroundColor: 'rgba(59, 130, 246, 0.8)' },
                    { label: 'AMD', data: genCold.amd, backgroundColor: 'rgba(239, 68, 68, 0.8)' },
                    { label: 'Graviton', data: genCold.graviton, backgroundColor: 'rgba(16, 185, 129, 0.8)' }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: { y: { beginAtZero: true, title: { display: true, text: 'ì´ˆ (ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)' } } }
            }
        });

        // Arch Cold Start
        const archColdData = {
            graviton: data.filter(d => d.arch === 'graviton' && d.cold > 0).reduce((a, b) => a + b.cold, 0) / data.filter(d => d.arch === 'graviton' && d.cold > 0).length,
            intel: data.filter(d => d.arch === 'intel' && d.cold > 0).reduce((a, b) => a + b.cold, 0) / data.filter(d => d.arch === 'intel' && d.cold > 0).length,
            amd: data.filter(d => d.arch === 'amd' && d.cold > 0).reduce((a, b) => a + b.cold, 0) / data.filter(d => d.arch === 'amd' && d.cold > 0).length
        };

        new Chart(document.getElementById('archColdChart'), {
            type: 'bar',
            data: {
                labels: ['Graviton', 'Intel', 'AMD'],
                datasets: [{
                    label: 'Cold Start í‰ê·  (ì´ˆ)',
                    data: [archColdData.graviton, archColdData.intel, archColdData.amd],
                    backgroundColor: [colors.graviton, colors.intel, colors.amd],
                    borderRadius: 4
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false } },
                scales: { y: { beginAtZero: true } }
            }
        });

        // Results table
        function renderTable(filteredData) {
            const tbody = document.getElementById('resultsBody');
            tbody.innerHTML = '';

            filteredData.forEach(d => {
                const archBadge = `<span class="badge badge-${d.arch}">${d.arch}</span>`;
                const row = `
                    <tr>
                        <td><strong>${d.instance}</strong>${d.flex ? ' âš¡' : ''}</td>
                        <td>${archBadge}</td>
                        <td>${d.gen}ì„¸ëŒ€</td>
                        <td>${d.rps50.toLocaleString()}</td>
                        <td>${d.rps100.toLocaleString()}</td>
                        <td>${d.rps200.toLocaleString()}</td>
                        <td>${d.lat50.toFixed(2)}ms</td>
                        <td>${d.lat99 > 50 ? '<span style="color:red">' + d.lat99.toFixed(1) + 'ms</span>' : d.lat99.toFixed(2) + 'ms'}</td>
                        <td>${d.cold > 0 ? d.cold.toFixed(2) + 'ì´ˆ' : '-'}</td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // Initial render
        renderTable(data.sort((a, b) => b.rps200 - a.rps200));

        // Filters
        document.getElementById('searchInput').addEventListener('input', applyFilters);
        document.getElementById('archFilter').addEventListener('change', applyFilters);
        document.getElementById('genFilter').addEventListener('change', applyFilters);
        document.getElementById('scenarioFilter').addEventListener('change', applyFilters);

        function applyFilters() {
            const search = document.getElementById('searchInput').value.toLowerCase();
            const arch = document.getElementById('archFilter').value;
            const gen = document.getElementById('genFilter').value;
            const scenario = document.getElementById('scenarioFilter').value;

            let filtered = data;
            if (search) filtered = filtered.filter(d => d.instance.toLowerCase().includes(search));
            if (arch) filtered = filtered.filter(d => d.arch === arch);
            if (gen) filtered = filtered.filter(d => d.gen === parseInt(gen));

            renderTable(filtered.sort((a, b) => b[scenario] - a[scenario]));
        }

        // Sort table
        let sortDir = 1;
        function sortTable(col) {
            sortDir *= -1;
            const sorted = [...data].sort((a, b) => {
                if (col === 0) return sortDir * a.instance.localeCompare(b.instance);
                if (col === 3) return sortDir * (a.rps50 - b.rps50);
                if (col === 4) return sortDir * (a.rps100 - b.rps100);
                if (col === 5) return sortDir * (a.rps200 - b.rps200);
                if (col === 6) return sortDir * (a.lat50 - b.lat50);
                if (col === 7) return sortDir * (a.lat99 - b.lat99);
                if (col === 8) return sortDir * (a.cold - b.cold);
                return 0;
            });
            renderTable(sorted);
        }
    </script>
</body>
</html>
